(this.webpackJsonphimalaya=this.webpackJsonphimalaya||[]).push([[0],{139:function(e,t,a){e.exports=a(295)},144:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},293:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(19),s=a.n(o),l=(a(144),a(145),a(42)),c=a(12),i=a(13),u=a(15),d=a(14),m=(a(146),a(147),a(10)),p=a.n(m),h=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleChange=function(e){r.setState(Object(l.a)({},e.target.name,e.target.value))},r.errorOccured=function(e,t,a){var n={id:r.state.errors.length+1,status:e,error:t,message:a},o=r.state.errors;o.push(n),r.setState(o)},r.deleteError=function(e){var t=e.currentTarget.parentNode.getAttribute("data-key"),a=r.state.errors.filter((function(e){return parseInt(e.id)!==parseInt(t)}));r.setState({errors:a})},r.handleSubmit=function(e){e.preventDefault(),p.a.post(window.API_URL+"/owner/login_user/",{username:r.state.username,password:r.state.password}).then((function(e){console.log(e),200==e.status?404==e.data.status?r.errorOccured(404,e.data.error.error,"Invalid Username or Password"):200==e.data.status?(r.setState({isLoggedIn:!0,error:!1}),sessionStorage.setItem("username",r.state.username),sessionStorage.setItem("token",e.data.Data.token),r.props.history.push("/home")):r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred"):r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){r.errorOccured(500,"error occurred",e.message)}))},sessionStorage.clear(),r.state={username:null,password:null,isLoggedIn:!1,errors:[]},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errors.length?this.state.errors.map((function(t){return n.a.createElement("div",{"data-key":t.id,className:"alert alert-danger alert-dismissible"},n.a.createElement("a",{href:"#",onClick:e.deleteError,class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),n.a.createElement("div",null,n.a.createElement("strong",null,"error!")," ",t.error),n.a.createElement("div",null,n.a.createElement("strong",null,"message")," ",t.message),n.a.createElement("div",null,n.a.createElement("strong",null,"status")," ",t.status))})):"";return n.a.createElement("div",{className:"container"},t,n.a.createElement("div",{className:"d-flex justify-content-center h-100"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h3",null,window.SIGN_IN_MESSAGE)),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{onSubmit:this.handleSubmit,id:"login_form"},n.a.createElement("div",{className:"input-group form-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},n.a.createElement("i",{className:"fas fa-user"}))),n.a.createElement("input",{onChange:this.handleChange,type:"text",className:"form-control",id:"username",name:"username",placeholder:"username",required:!0})),n.a.createElement("div",{className:"input-group form-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},n.a.createElement("i",{className:"fas fa-key"}))),n.a.createElement("input",{onChange:this.handleChange,type:"password",className:"form-control",id:"password",name:"password",placeholder:"password",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"submit",value:"Login",className:"btn-lg float-right login_btn"})))))))}}]),a}(r.Component),g=a(138),f=a(128),E=(a(165),a(166),a(17)),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).openNav=function(){r.setState({width:"100%"})},r.closeNav=function(){r.setState({width:"0%"})},r.state={width:"0%"},r}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{style:{float:"left"}},n.a.createElement("div",{style:{width:this.state.width},id:"myNav",className:"overlay"},n.a.createElement("a",{href:"#",className:"closebtn",onClick:this.closeNav},"\xd7"),n.a.createElement("div",{className:"overlay-content"},n.a.createElement(E.c,{to:"/home"},"Home"),n.a.createElement(E.c,{to:"/customer"},"Customers"),n.a.createElement(E.c,{to:"/sale"},"Today's Sale"),n.a.createElement(E.c,{to:"/statistics"},"View Statistics"),n.a.createElement(E.c,{to:"/items"},"Items"),n.a.createElement("a",{target:"blank",href:window.API_URL+"/admin/"},"Admin"),n.a.createElement(E.c,{to:"/"},"Logout"))),n.a.createElement("span",{style:{fontSize:"40px",cursor:"pointer",color:"white"},onClick:this.openNav},"\u2630"))}}]),a}(r.Component),b=a(131),y=a.n(b),_=(a(171),a(130)),w=a.n(_),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).errorOccured=function(e,t,a){var n={id:r.state.errors.length+1,status:e,error:t,message:a},o=r.state.errors;o.push(n),r.setState(o)},r.deleteError=function(e){var t=e.currentTarget.parentNode.getAttribute("data-key"),a=r.state.errors.filter((function(e){return parseInt(e.id)!==parseInt(t)}));r.setState({errors:a})},r.get_pdf=function(e){r.setState({loaded:!0});var t=!1,a=Object(f.a)({},r.state);e.preventDefault(),""!==a.payment_method&&"None"!==a.payment_method||(r.errorOccured(404,"erro occurred","Payment Option is not provided"),t=!0),a.items.map((function(e){""!=e.item&&"Select Item"!=e.item&&"Select Brand"!==e.brand&&""!==e.brand||(r.errorOccured(400,"erro occurred","something in not provided in item "+e.id),t=!0)})),r.state.payment_options.map((function(e){e.name===a.payment_method&&(a.payment_method=e.id)}));try{""===a.birth_day?window.confirm("DOB is not provided, Do you wish to continue??")?a.birth_day="01-01-2050":t=!0:a.birth_day=r.formatDate(a.birth_day)}catch(t){r.errorOccured(400,"error occurred in dob",t.message)}if(!0===t)return a.birth_day="",!1;try{a.items.map((function(e){a.categories.map((function(t){e.item===t.name&&(e.item=t.id,t.brands.map((function(t){t.name===e.brand&&(e.brand=t.id)})))}))}))}catch(t){r.errorOccured(400,"error occurred",t.message)}var n={Authorization:"Token "+sessionStorage.getItem("token")};console.log(a),p.a.post(window.API_URL+"/receipts/",a,{headers:n}).then((function(e){r.setState({loaded:!1}),console.log(e),200==e.status?404==e.data.status?r.errorOccured(404,e.data.error.error,"Error Submitting"):200==e.data.status?window.open(window.API_URL+e.data.Data.receipt_link):r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred"):r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){r.errorOccured(500,"error occurred",e.toString())}))},r.handleChange=function(e){try{var t=e.target.value;r.find_sum();r.setState(Object(l.a)({},e.target.name,t),(function(){var e=r.find_sum();r.setState({total_amount:e[0],amount_payable:e[2],total_discount:e[1]})}))}catch(a){r.errorOccured(400,"error occurred",a.toString())}},r.formatDate=function(e){try{var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[o,a,n].join("-")}catch(s){r.errorOccured(400,"error occurred",s.toString())}},r.onChange=function(e){try{r.setState({birth_day:e})}catch(t){r.errorOccured(400,"error occurred",t.toString())}},r.add_item=function(){var e={id:r.state.items.length+1,item:"",brand:"",size:"",quantity:1,selling_price:0,deleteable:!0};try{var t=[].concat(Object(g.a)(r.state.items),[e]);r.setState({items:t})}catch(a){r.errorOccured(400,"error occurred",a.toString())}},r.delete_item=function(e){try{var t=e.currentTarget.parentNode.parentNode.getAttribute("data-key"),a=r.state.items.filter((function(e){return parseInt(e.id)!==parseInt(t)}));r.setState({items:a},(function(){var e=r.find_sum();r.setState({total_amount:e[0],amount_payable:e[2],total_discount:e[1]})}))}catch(n){r.errorOccured(400,"error occurred",n.toString())}},r.update_item=function(e){try{var t=e.currentTarget.parentNode.parentNode.parentNode.getAttribute("data-key"),a=e.currentTarget.getAttribute("name"),n=e.currentTarget.value,o=!1;if(""===n&&"size"!=a)return;r.state.items.length&&r.state.items.map((function(e){return parseInt(e.id)===parseInt(t)&&(e[a]=n,"brand"==a&&r.state.categories.map((function(t){e.item===t.name&&t.brands.map((function(t){t.name===n&&(e.selling_price=t.actual_cost_price,e.actual_price=t.cost_price,o=!0)})),0==o&&(e.selling_price=0,e.actual_price=0)}))),e}));var s=r.find_sum();r.setState({total_amount:s[0],amount_payable:s[2],total_discount:s[1]})}catch(l){r.errorOccured(400,"error occurred",l.toString())}},r.getBrands=function(e){try{return r.state.categories.filter((function(t){return parseInt(t.id)==parseInt(e)}))[0].brands}catch(t){r.errorOccured(400,"error occurred",t.toString())}},r.find_sum=function(e,t){var a=new Array(3).fill(0);try{var n=parseInt(r.state.discount_given?r.state.discount_given:0);return r.state.items.forEach((function(e){var t=parseInt(e.selling_price),r=parseInt(e.quantity);a[0]=parseInt(a[0])+parseInt(t)*parseInt(r)})),a[1]=Math.round(n*a[0]/100),a[2]=a[0]-a[1],a}catch(o){r.errorOccured(400,"error occurred",o.toString())}};new Date;"undefined"!==sessionStorage.getItem("token")&&"undefined"!==sessionStorage.getItem("username")||r.props.history.push("/"),r.state={fname:"",lname:"",mobile:"",payment_method:"",birth_day:"",items:[{id:1,item:"",brand:"",size:"",quantity:1,selling_price:0,deleteable:!1}],discount_given:0,total_amount:0,total_discount:0,amount_payable:0,payment_options:[],categories:[],sizes:[],errors:[],loaded:!1};var n={Authorization:"Token "+sessionStorage.getItem("token")};p.a.get(window.API_URL+"/payments/",{headers:n}).then((function(e){200==e.status?404==e.data.status?r.errorOccured(404,e.data.error.error,"No payment options to display"):200==e.data.status?r.setState({payment_options:e.data.Data}):r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred"):r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){r.errorOccured(500,"error occurred",e.message)})),p.a.get(window.API_URL+"/items/itemsBrand/",{headers:n}).then((function(e){if(200==e.status)if(404==e.data.status)r.errorOccured(404,e.data.error.error,"No Itmes to display");else if(200==e.data.status){var t=e.data.Data;r.setState({categories:t})}else r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred");else r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){r.errorOccured(500,"error occurred",e.message)})),p.a.get(window.API_URL+"/sizes/",{headers:n}).then((function(e){r.setState({sizes:e.data.Data})})).catch((function(e){r.errorOccured(500,"error occurred",e.message)}));var o=r.find_sum();return r.setState({total_amount:o[0],amount_payable:o[2],total_discount:o[1]}),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.payment_options.length?this.state.payment_options.map((function(e){return n.a.createElement("option",{key:e.id},e.name)})):"",a=this.state.categories.length?this.state.categories.map((function(e){return n.a.createElement("option",{key:e.id},e.name)})):"",r=this.state.sizes.length?this.state.sizes.map((function(e){return n.a.createElement("option",{key:e.id},e.name)})):" ",o=this.state.errors.length?this.state.errors.map((function(t){return n.a.createElement("div",{"data-key":t.id,className:"alert alert-danger alert-dismissible override"},n.a.createElement("a",{href:"#",onClick:e.deleteError,class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),n.a.createElement("div",null,n.a.createElement("strong",null,"error!")," ",t.error),n.a.createElement("div",null,n.a.createElement("strong",null,"message")," ",t.message),n.a.createElement("div",null,n.a.createElement("strong",null,"status")," ",t.status))})):"",s=this.state.items.length?this.state.items.map((function(t){var r=e.state.categories.filter((function(e){if(t.item==e.name)return e})),o="";try{o=r[0].brands.length?r[0].brands.map((function(e){return n.a.createElement("option",{key:e.id},e.name)})):" "}catch(s){console.log(s)}return n.a.createElement("div",{"data-key":t.id,className:"row"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("select",{onChange:e.update_item,type:"text",value:t.item,className:"form-control item",name:"item",placeholder:"Item",required:!0},"(",n.a.createElement("option",{key:"-1"},"Select Itme"),a))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("select",{onChange:e.update_item,type:"text",value:t.brand,className:"form-control item",name:"brand",placeholder:"Brand",required:!0},n.a.createElement("option",{key:"-1"},"Select Brand"),o))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("input",{onChange:e.update_item,type:"text",value:t.size,className:"form-control item",name:"size",placeholder:"Size",list:"sizes"}))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("input",{autoComplete:"off",onChange:e.update_item,type:"number",value:t.quantity,className:"form-control item",min:"1",name:"quantity",placeholder:"Quantity/Pairs",required:!0}))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("input",{autoComplete:"off",type:"number",value:t.actual_price,className:"form-control item ",min:"0",name:"actual_price",placeholder:"Price",readOnly:"True",required:!0}))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("input",{autoComplete:"off",onChange:e.update_item,type:"number",value:t.selling_price,className:"form-control item ",min:"0",name:"selling_price",placeholder:"Price",required:!0}))),n.a.createElement("div",{className:"input-group-postpend column",style:{width:"10%"}},t.deleteable?n.a.createElement("span",{onClick:e.delete_item},n.a.createElement("i",{className:"fa fa-times-circle add-btn"})):n.a.createElement("span",{onClick:e.add_item,id:"add-item"},n.a.createElement("i",{className:"fa fa-plus-circle add-btn"}))))})):"";return n.a.createElement("div",{className:"container"},n.a.createElement(w.a,{show:this.state.loaded,message:n.a.createElement("div",{class:"spinner-border",role:"status"},n.a.createElement("span",{class:"sr-only"},"Loading..."))},o,n.a.createElement("div",{className:"d-flex justify-content-center h-100"},n.a.createElement(v,null),n.a.createElement("div",{style:{maxWidth:"800px"},className:"card float-left"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h3",null,window.RECIEPT_MESSAGE)),n.a.createElement("div",{className:"col-sm-12 col-sm-offset-4 card-body"},n.a.createElement("form",{onSubmit:this.get_pdf,id:"login_form"},n.a.createElement("label",{style:{color:"white"},className:"float-left",for:"fname"},n.a.createElement("b",null,"Enter First Name")),n.a.createElement("div",{className:"input-group form-group"},n.a.createElement("input",{onChange:this.handleChange,type:"text",value:this.state.fname,className:"form-control input-sm",id:"fname",name:"fname",placeholder:"First Name",required:!0})),n.a.createElement("label",{style:{color:"white"},className:"float-left",for:"lname"},n.a.createElement("b",null,"Enter Last Name")),n.a.createElement("div",{className:"input-group form-group"},n.a.createElement("input",{onChange:this.handleChange,type:"text",className:"form-control",value:this.state.lname,id:"lname",name:"lname",placeholder:"Last Name",required:!0})),n.a.createElement("label",{style:{color:"white"},className:"float-left",for:"mobile"},n.a.createElement("b",null,"Enter Mobile No:")),n.a.createElement("div",{className:"input-group form-group"},n.a.createElement("input",{onChange:this.handleChange,type:"tel",value:this.state.mobile,className:"form-control",id:"mobile",placeholder:"Mobile Number",name:"mobile",pattern:"[0-9]{10}",required:!0})),n.a.createElement("label",{style:{color:"white"},className:"float-left",for:"payment"},n.a.createElement("b",null,"Enter Payment Mode")),n.a.createElement("div",{className:"input-group form-group"},n.a.createElement("select",{onChange:this.handleChange,value:this.state.payment_method,id:"payment",name:"payment_method",className:"form-control"},n.a.createElement("option",null," None"),t)),n.a.createElement("label",{style:{color:"white"},className:"float-left",for:"dob"},n.a.createElement("b",null,"Enter Date of Birth")),n.a.createElement("div",{className:"input-group form-group"},n.a.createElement(y.a,{maxDate:new Date,placeholderText:"Enter DOB",dateFormat:"dd/MM/yyyy",selected:this.state.birth_day,onChange:this.onChange})),n.a.createElement("div",{id:"items-cart"},s,n.a.createElement("div",null)),n.a.createElement("div",{className:"input-group form-group float-right price-tag"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},n.a.createElement("i",{className:"fa fa-rupee"}))),n.a.createElement("input",{type:"text",className:"form-control",value:this.state.amount_payable,readOnly:!0,id:"amount"})),n.a.createElement("div",{className:"input-group form-group float-right price-tag"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},n.a.createElement("i",{className:"fa fa-percent"}))),n.a.createElement("input",{type:"number",onChange:this.handleChange,name:"discount_given",value:this.state.discount_given,className:"form-control",min:"0",max:"100"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"submit",value:"Submit",className:"btn-lg login_btn"}))),n.a.createElement("datalist",{id:"sizes"},r))))))}}]),a}(r.Component),N=a(46),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).errorOccured=function(e,t,a){var n={id:r.state.errors.length+1,status:e,error:t,message:a},o=r.state.errors;o.push(n),r.setState(o)},r.deleteError=function(e){var t=e.currentTarget.parentNode.getAttribute("data-key"),a=r.state.errors.filter((function(e){return parseInt(e.id)!==parseInt(t)}));r.setState({errors:a})},r.update_rows=function(e){try{var t=r.state.datatable.columns,a=r.state.datatable.rows;e.Data.results.forEach((function(e){a.push(e)}));var n={columns:t,rows:a};r.setState({datatable:n})}catch(o){r.errorOccured(400,"error occurred",o.toString())}},r.get_next=function(e){var t={Authorization:"Token "+sessionStorage.getItem("token")};p.a.get(e,{headers:t}).then((function(e){200==e.status?404==e.data.status?r.errorOccured(404,e.data.error.error,"Error"):200==e.data.status?(r.update_rows(e.data),null!=e.data.Data.links.next&&r.get_next(e.data.Data.links.next)):r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred"):r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){}))},r.componentDidMount=function(){var e={Authorization:"Token "+sessionStorage.getItem("token")};p.a.get(window.API_URL+"/customers/",{headers:e}).then((function(e){200==e.status?404==e.data.status?r.errorOccured(404,e.data.error.error,"Error"):200==e.data.status?(r.update_rows(e.data),r.get_next(e.data.Data.links.next)):r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred"):r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){}))},"undefined"!==sessionStorage.getItem("token")&&"undefined"!==sessionStorage.getItem("username")||r.props.history.push("/"),r.state={datatable:{columns:[{label:"FirstName",field:"fname",width:150},{label:"LastName",field:"lname",width:270},{label:"Mobile",field:"mobile",width:200},{label:"Date",field:"date",width:150},{label:"DOB",field:"birth_day",width:150}],rows:[]},errors:[]},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errors.length?this.state.errors.map((function(t){return n.a.createElement("div",{"data-key":t.id,className:"alert alert-danger alert-dismissible override"},n.a.createElement("a",{href:"#",onClick:e.deleteError,class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),n.a.createElement("div",null,n.a.createElement("strong",null,"error!")," ",t.error),n.a.createElement("div",null,n.a.createElement("strong",null,"message")," ",t.message),n.a.createElement("div",null,n.a.createElement("strong",null,"status")," ",t.status))})):"";return n.a.createElement("div",null,n.a.createElement(v,null),t,n.a.createElement("div",{style:{backgroundColor:"black",fontSize:"15px",color:"green"}},n.a.createElement(N.c,{className:"table-responsive",style:{textAlign:"left",backgroundColor:"black",fontSize:"20px",color:"white"},hover:!0,entriesOptions:[10,20,25],entries:10,pagesAmount:4,data:this.state.datatable,searchTop:!0,searchBottom:!1})))}}]),a}(r.Component),S=a(136),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).errorOccured=function(e,t,a){var n={id:r.state.errors.length+1,status:e,error:t,message:a},o=r.state.errors;o.push(n),r.setState(o)},r.deleteError=function(e){var t=e.currentTarget.parentNode.getAttribute("data-key"),a=r.state.errors.filter((function(e){return parseInt(e.id)!==parseInt(t)}));r.setState({errors:a})},r.componentDidMount=function(){var e={Authorization:"Token "+sessionStorage.getItem("token")};p.a.get(window.API_URL+"/receipts/sales_for_graph/",{headers:e}).then((function(e){if(200==e.status)if(404==e.data.status)r.errorOccured(404,e.data.error.error,"Error");else if(200==e.data.status){var t=[];404!=e.data.status&&(t.push(r.state.data),e.data.Data.date_wise_payment_list.map((function(e){var a=[];a.push(e.date),a.push(e.amount),t.push(a)}))),r.setState({graph_data:t})}else r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred");else r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){r.errorOccured(500,"error occurred",e.message)}))},"undefined"!==sessionStorage.getItem("token")&&"undefined"!==sessionStorage.getItem("username")||r.props.history.push("/"),r.state={data:["Sale",""],errors:[]},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errors.length?this.state.errors.map((function(t){return n.a.createElement("div",{"data-key":t.id,className:"alert alert-danger alert-dismissible override"},n.a.createElement("a",{href:"#",onClick:e.deleteError,class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),n.a.createElement("div",null,n.a.createElement("strong",null,"error!")," ",t.error),n.a.createElement("div",null,n.a.createElement("strong",null,"message")," ",t.message),n.a.createElement("div",null,n.a.createElement("strong",null,"status")," ",t.status))})):"";return n.a.createElement("div",null,t,n.a.createElement(v,null),n.a.createElement("div",{style:{display:"flex",maxWidth:900}},n.a.createElement(S.a,{width:1400,height:1300,chartType:"ColumnChart",loader:n.a.createElement("h1",{style:{color:"black"}},"...Loading Chart"),data:this.state.graph_data,options:{title:"Sales of This Month",chartArea:{maxWidth:"75%",maHeight:"75%",backgroundColor:"black"},hAxis:{title:"Date"},vAxis:{title:"Sale"}},legendToggle:!0})))}}]),a}(r.Component),C=(a(293),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).errorOccured=function(e,t,a){var n={id:r.state.errors.length+1,status:e,error:t,message:a},o=r.state.errors;o.push(n),r.setState(o)},r.deleteError=function(e){var t=e.currentTarget.parentNode.getAttribute("data-key"),a=r.state.errors.filter((function(e){return parseInt(e.id)!==parseInt(t)}));r.setState({errors:a})},r.update_rows=function(e){try{var t=r.state.datatable.columns,a=r.state.datatable.rows;if(200===e.status){e.Data.results.forEach((function(e){if(null!=e.customer){var t={fname:e.customer.fname,lname:e.customer.lname,mobile:e.customer.mobile,amount_payable:e.amount_payable,total_discount:e.total_discount,payment_method:null!=e.payment_method?e.payment_method.name:"deleted",date:e.customer.date,receipt_pdf:e.receipt_pdf?n.a.createElement("a",{href:e.receipt_pdf,target:"blank"},"click"):""};a.push(t)}}));var o={columns:t,rows:a};r.setState({datatable:o})}}catch(s){}},r.get_next=function(e){try{var t={Authorization:"Token "+sessionStorage.getItem("token")};p.a.get(e,{headers:t}).then((function(e){r.update_rows(e.data),null!=e.data.Data.links.next&&r.get_next(e.data.Data.links.next)}))}catch(a){}},r.componentDidMount=function(){var e={Authorization:"Token "+sessionStorage.getItem("token")};p.a.get(window.API_URL+"/receipts/",{headers:e}).then((function(e){console.log(e),200==e.status?404==e.data.status?r.errorOccured(404,e.data.error.error,"Error"):200==e.data.status?(r.update_rows(e.data),r.get_next(e.data.Data.links.next)):r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred"):r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){}))},"undefined"!==sessionStorage.getItem("token")&&"undefined"!==sessionStorage.getItem("username")||r.props.history.push("/"),r.state={datatable:{columns:[{label:"FirstName",field:"fname",width:150},{label:"LastName",field:"lname",width:270},{label:"Mobile",field:"mobile",width:270},{label:"Amount Paid",field:"amount_payable",width:200},{label:"Discount Provided",field:"total_discount",sort:"disabled",width:150},{label:"Payment Type",field:"payment_method",width:270},{label:"Date",field:"date",width:270},{label:"Reciept",field:"receipt_pdf",width:270}],rows:[]},errors:[]},r.payments="";var o={Authorization:"Token "+sessionStorage.getItem("token")};return p.a.get(window.API_URL+"/payments/payments_today/",{headers:o}).then((function(e){if(200==e.status)if(404==e.data.status&&r.errorOccured(404,e.data.error.error,"Error"),200==e.data.status){var t=e.data.Data.amount_wise_payment_list.map((function(e){return n.a.createElement("tr",null," ",n.a.createElement("th",{style:{color:"green"}},e.name?e.name:"deleted payment option"),n.a.createElement("td",null,e.amount))})),a=e.data.Data.total_amount_paid_today;r.setState({payments:t,total_amount:a})}else r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred");else r.errorOccured(500,"error occurred","Unknown error occurred")})).catch((function(e){})),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errors.length?this.state.errors.map((function(t){return n.a.createElement("div",{"data-key":t.id,className:"alert alert-danger alert-dismissible override"},n.a.createElement("a",{href:"#",onClick:e.deleteError,class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),n.a.createElement("div",null,n.a.createElement("strong",null,"error!")," ",t.error),n.a.createElement("div",null,n.a.createElement("strong",null,"message")," ",t.message),n.a.createElement("div",null,n.a.createElement("strong",null,"status")," ",t.status))})):"";return n.a.createElement("div",null,n.a.createElement(v,null),t,n.a.createElement("div",{style:{backgroundColor:"black",fontSize:"15px",color:"green"}},n.a.createElement(N.c,{className:"table-responsive",style:{backgroundColor:"black",fontSize:"20px",color:"white"},hover:!0,entriesOptions:[10,20,25],entries:10,pagesAmount:4,data:this.state.datatable,searchTop:!0,searchBottom:!1})),n.a.createElement("div",{style:{textAlign:"left",backgroundColor:"black",fontSize:"20px",color:"white"}},n.a.createElement("table",{style:{width:"100%"}},n.a.createElement("tr",{style:{color:"red"}},n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount Paid")),this.state.payments,n.a.createElement("tr",null,n.a.createElement("th",{style:{color:"blue"}},"Total"),n.a.createElement("td",{style:{color:"blue"}},this.state.total_amount)))))}}]),a}(r.Component)),x=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).errorOccured=function(e,t,a){var n={id:r.state.errors.length+1,status:e,error:t,message:a},o=r.state.errors;o.push(n),r.setState(o)},r.deleteError=function(e){var t=e.currentTarget.parentNode.getAttribute("data-key"),a=r.state.errors.filter((function(e){return parseInt(e.id)!==parseInt(t)}));r.setState({errors:a})},r.componentDidMount=function(){var e={Authorization:"Token "+sessionStorage.getItem("token")};p.a.get(window.API_URL+"/brands/",{headers:e}).then((function(e){if(console.log(e),200==e.status)if(404==e.data.status)r.errorOccured(404,e.data.error.error,"Error");else if(200==e.data.status){var t=e.data.Data.map((function(e){return{item:e.item.name,name:e.name,quantity:e.initial_quantity,remaining:e.quantity,cost_price:e.cost_price,price:e.price,intitial_discount:e.initial_discount,actual_cost_price:e.actual_cost_price,gst:e.gst,transport_charge:e.transport_charge}})),a={columns:r.state.datatable.columns,rows:t};r.setState({datatable:a})}else r.errorOccured(e.data.status,e.error.error,"Unknown Error Occurred");else r.errorOccured(500,"erro occurred","Unknown error occurred")})).catch((function(e){r.errorOccured(500,"error occurred",e.message)}))},"undefined"!==sessionStorage.getItem("token")&&"undefined"!==sessionStorage.getItem("username")||r.props.history.push("/"),r.state={datatable:{columns:[{label:"Item",field:"item",width:150},{label:"BrandName",field:"name",width:270},{label:"Quantity",field:"quantity",width:200},{label:"Remaining",field:"remaining",width:200},{label:"Purchasing Price",field:"price",width:200},{label:"GST",field:"gst",width:200},{label:"Transport Charge",field:"transport_charge",width:200},{label:"Selling Price",field:"cost_price",width:200},{label:"Discount",field:"intitial_discount",width:200},{label:"Payable",field:"actual_cost_price",width:200}],rows:[]},errors:[]},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errors.length?this.state.errors.map((function(t){return n.a.createElement("div",{"data-key":t.id,className:"alert alert-danger alert-dismissible override"},n.a.createElement("a",{href:"#",onClick:e.deleteError,class:"close","data-dismiss":"alert","aria-label":"close"},"\xd7"),n.a.createElement("div",null,n.a.createElement("strong",null,"error!")," ",t.error),n.a.createElement("div",null,n.a.createElement("strong",null,"message")," ",t.message),n.a.createElement("div",null,n.a.createElement("strong",null,"status")," ",t.status))})):"";return n.a.createElement("div",null,n.a.createElement(v,null),t,n.a.createElement("div",{style:{backgroundColor:"black",fontSize:"15px",color:"green"}},n.a.createElement(N.c,{className:"table-responsive",style:{textAlign:"left",backgroundColor:"black",fontSize:"20px",color:"white"},hover:!0,entriesOptions:[10,20,25],entries:10,pagesAmount:4,data:this.state.datatable,searchTop:!0,searchBottom:!1})))}}]),a}(r.Component),A=(a(294),a(8));var D=function(){return n.a.createElement(E.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(A.a,{exact:!0,path:"/menu",component:v}),n.a.createElement(A.a,{exact:!0,path:"/home",component:k}),n.a.createElement(A.a,{exact:!0,path:"/customer",component:O}),n.a.createElement(A.a,{exact:!0,path:"/sale",component:C}),n.a.createElement(A.a,{exact:!0,path:"/statistics",component:I}),n.a.createElement(A.a,{exact:!0,path:"/items",component:x}),n.a.createElement(A.a,{exact:!0,path:"/",component:h})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.2f78f001.chunk.js.map