{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/MERN/himalayadonelocal2/src/components/items.component.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component';\nimport axios from 'axios';\n\nclass Items extends Component {\n  constructor(props) {\n    super(props);\n\n    this.errorOccured = (status, err, message) => {\n      let error = {\n        \"id\": this.state.errors.length + 1,\n        \"status\": status,\n        \"error\": err,\n        \"message\": message\n      };\n      let errors = this.state.errors;\n      errors.push(error);\n      console.log(errors);\n      this.setState(errors);\n    };\n\n    this.deleteError = e => {\n      let key = e.currentTarget.parentNode.getAttribute(\"data-key\");\n      console.log(key);\n      let errors = this.state.errors.filter(error => {\n        return parseInt(error.id) !== parseInt(key);\n      });\n      this.setState({\n        errors: errors\n      });\n    };\n\n    this.componentDidMount = () => {\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get('http://127.0.0.1:8000/brands/', {\n        headers: headers\n      }).then(response => {\n        console.log(response);\n\n        if (response.status == 200) {\n          if (response.data.status == 404) {\n            this.errorOccured(404, response.data.error.error, \"Error\");\n          } else if (response.data.status == 200) {\n            var items = response.data.Data.map(item => {\n              return {\n                'item': item.item.name,\n                'name': item.name,\n                'quantity': item.quantity,\n                'cost_price': item.cost_price,\n                'intitial_discount': item.initial_discount,\n                'actual_cost_price': item.actual_cost_price,\n                'gst': item.gst,\n                'transtport_charge': item.transtport_charge\n              };\n            });\n            let columns = this.state.datatable.columns;\n            let datatable = {\n              columns: columns,\n              rows: items\n            };\n            this.setState({\n              datatable: datatable\n            });\n            console.log(items);\n          } else {\n            console.log('occ');\n            this.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\");\n          }\n        } else {\n          console.log('occ');\n          this.errorOccured(500, \"erro occurred\", \"Unknown error occurred\");\n        }\n      }).catch(error => {\n        console.log('occ');\n        this.errorOccured(500, \"error occurred\", error.message);\n      });\n    };\n\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      datatable: {\n        columns: [{\n          label: 'Item',\n          field: 'item',\n          width: 150\n        }, {\n          label: 'BrandName',\n          field: 'name',\n          width: 270\n        }, {\n          label: 'Quantity',\n          field: 'quantity',\n          width: 200\n        }, {\n          label: 'Price',\n          field: 'cost_price',\n          width: 200\n        }, {\n          label: 'Discount',\n          field: 'intitial_discount',\n          width: 200\n        }, {\n          label: 'Payable',\n          field: 'actual_cost_price',\n          width: 200\n        }, {\n          label: 'GST',\n          field: 'gst',\n          width: 200\n        }, {\n          label: 'Transport Charge',\n          field: 'transport_charge',\n          width: 200\n        }],\n        rows: []\n      },\n      errors: []\n    };\n  }\n\n  render() {\n    var Error = this.state.errors.length ? this.state.errors.map(error => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        \"data-key\": error.id,\n        className: \"alert alert-danger alert-dismissible override\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 75\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.deleteError,\n        class: \"close\",\n        \"data-dismiss\": \"alert\",\n        \"aria-label\": \"close\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 2\n        }\n      }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 7\n        }\n      }, \"error!\"), \" \", error.error), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 7\n        }\n      }, \"message\"), \" \", error.message), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 7\n        }\n      }, \"status\"), \" \", error.status));\n    }) : \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 12\n      }\n    }), Error, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"black\",\n        fontSize: \"15px\",\n        color: \"green\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n      className: \"table-responsive\",\n      style: {\n        textAlign: \"left\",\n        backgroundColor: \"black\",\n        fontSize: \"20px\",\n        color: \"white\"\n      },\n      hover: true,\n      entriesOptions: [10, 20, 25],\n      entries: 10,\n      pagesAmount: 4,\n      data: this.state.datatable,\n      searchTop: true,\n      searchBottom: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}\n\nexport default Items;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayadonelocal2/src/components/items.component.js"],"names":["React","Component","MDBDataTableV5","Menu","axios","Items","constructor","props","errorOccured","status","err","message","error","state","errors","length","push","console","log","setState","deleteError","e","key","currentTarget","parentNode","getAttribute","filter","parseInt","id","componentDidMount","headers","sessionStorage","getItem","get","then","response","data","items","Data","map","item","name","quantity","cost_price","initial_discount","actual_cost_price","gst","transtport_charge","columns","datatable","rows","catch","history","label","field","width","render","Error","backgroundColor","fontSize","color","textAlign"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component'\nimport axios from 'axios';\n\nclass Items extends Component\n{\nconstructor(props)\n{\n    super(props);\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n        this.props.history.push('/')\n    }\n    this.state={\n        datatable:{\n            columns:[\n                {\n                    label: 'Item',\n                    field: 'item',\n                    width: 150,\n                  },\n                  {\n                    label: 'BrandName',\n                    field: 'name',\n                    width: 270,\n                  },\n                  {\n                    label: 'Quantity',\n                    field: 'quantity',\n                    width: 200,\n                  },\n                  {\n                    label: 'Price',\n                    field: 'cost_price',\n                    width: 200,\n                  },\n                  {\n                    label: 'Discount',\n                    field: 'intitial_discount',\n                    width: 200,\n                  },\n                  {\n                    label: 'Payable',\n                    field: 'actual_cost_price',\n                    width: 200,\n                  },\n                  {\n                    label: 'GST',\n                    field: 'gst',\n                    width: 200,\n                  },\n                  {\n                    label: 'Transport Charge',\n                    field: 'transport_charge',\n                    width: 200,\n                  }\n            ],\n            rows: [],\n        },\n        errors:[]\n    }\n\n    }\n    errorOccured=(status,err,message)=>{\n      let error={\"id\":this.state.errors.length+1,\"status\":status,\"error\":err,\"message\":message}\n      let errors=this.state.errors\n      errors.push(error)\n      console.log(errors)\n      this.setState(errors)\n  }\n  \n  deleteError=(e)=>{\n          let key= e.currentTarget.parentNode.getAttribute(\"data-key\");\n          console.log(key)\n          let errors = this.state.errors.filter(error => {\n              return parseInt(error.id) !== parseInt(key);\n          })\n          this.setState({errors: errors})\n  }\n\n    componentDidMount=()=>{\n      const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n      axios.get('http://127.0.0.1:8000/brands/',{\n        headers: headers\n      })\n      .then(response => {\n        console.log(response)\n        if(response.status == 200)\n        {\n\n            if(response.data.status == 404)\n            {\n                this.errorOccured(404,response.data.error.error,\"Error\")\n            }\n        \n            else if(response.data.status == 200)\n            {\n              var items=response.data.Data.map(item=>{\n                return({'item':item.item.name,'name':item.name,'quantity':item.quantity,'cost_price':item.cost_price,'intitial_discount':item.initial_discount,'actual_cost_price':item.actual_cost_price,'gst':item.gst,'transtport_charge':item.transtport_charge})\n              })\n          let columns=this.state.datatable.columns\n          let datatable={columns:columns,rows:items}\n          this.setState({datatable:datatable})\n              console.log(items)\n                \n            }\n            else\n            {\n                console.log('occ')\n                this.errorOccured(response.data.status,response.error.error,\"Unknown Error Occurred\")\n            }\n        }\n        else\n        {\n            console.log('occ')\n            this.errorOccured(500,\"erro occurred\",\"Unknown error occurred\")\n\n        }\n        })\n    .catch(error => {\n        console.log('occ')\n        this.errorOccured(500,\"error occurred\",error.message)\n    });      \n    }\n    \nrender()\n{ \n  var Error=this.state.errors.length?this.state.errors.map(error=>{return(<div data-key={error.id} className='alert alert-danger alert-dismissible override'>\n\t<a href=\"#\" onClick={this.deleteError} class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a>\n\t<div><strong>error!</strong> {error.error}</div>\n\t<div><strong>message</strong> {error.message}</div>\n\t<div><strong>status</strong> {error.status}</div></div>)}):(\"\")  \n    return(\n      <div>\n           <Menu/>\n           {Error}\n        <div style={{backgroundColor:\"black\",fontSize:\"15px\",color:\"green\"}}>\n        <MDBDataTableV5 className=\"table-responsive\" style={{textAlign:\"left\",backgroundColor:\"black\",fontSize:\"20px\",color:\"white\"}} hover entriesOptions={[10, 20, 25]} entries={10} pagesAmount={4} data={this.state.datatable} searchTop searchBottom={false} />\n        </div>\n      </div>\n\n    )\n   \n}\n}\nexport default Items;"]},"metadata":{},"sourceType":"module"}