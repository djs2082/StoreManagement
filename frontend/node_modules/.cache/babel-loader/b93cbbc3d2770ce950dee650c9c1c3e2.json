{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/MERN/himalayadone/src/components/sale.component.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component';\nimport '../css/sale.css';\nimport axios from 'axios';\n\nclass Customer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.update_rows = response => {\n      console.log(response);\n      let columns = this.state.datatable.columns;\n      let rows = this.state.datatable.rows;\n      console.log(columns);\n      console.log(rows);\n      console.log(response.data);\n\n      if (response.data.status == 200) {\n        response.Data.results.forEach(element => {\n          var row = {\n            'fname': element.customer.fname,\n            'lname': element.customer.lname,\n            'mobile': element.customer.mobile,\n            'amount_payable': element.amount_payable,\n            'total_discount': element.total_discount,\n            'payment_method': element.payment_method.name,\n            'date': element.customer.date,\n            'receipt_pdf': element.receipt_pdf ? /*#__PURE__*/React.createElement(\"a\", {\n              href: element.receipt_pdf,\n              target: \"blank\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 302\n              }\n            }, \"click\") : \"\"\n          };\n          console.log(row);\n          rows.push(row);\n        });\n        console.log(columns);\n        console.log(rows);\n        let datatable = {\n          columns: columns,\n          rows: rows\n        };\n        this.setState({\n          datatable: datatable\n        });\n      }\n    };\n\n    this.get_next = response => {\n      console.log(response);\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get(response, {\n        headers: headers\n      }).then(result => {\n        // console.log(result.data.data.results)\n        this.update_rows(result.data);\n\n        if (result.data.Data.links.next != null) {\n          this.get_next(result.data.Data.links.next);\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get('https://shield.pythonanywhere.com/receipts/', {\n        headers: headers\n      }).then(response => {\n        // console.log(response.)\n        this.update_rows(response.data);\n        this.get_next(response.data.Data.links.next);\n      }); // axios.get('http://127.0.0.1:8000/payments/payments_today/',{\n      //   headers: headers\n      // })\n      // .then(response =>{\n      //   console.log(response)\n      //   const payments=response.data.Data.amount_wise_payment_list.map(payment=>{\n      //     return(<tr> <th style={{color:\"green\"}}>{payment.name}</th><td>{payment.amount}</td></tr>)\n      //   })\n      //   console.log(payments)\n      //   // this.update_rows(response.data);\n      //   // this.get_next(response.data.Data.links.next)\n      // })\n    };\n\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      datatable: {\n        columns: [{\n          label: 'FirstName',\n          field: 'fname',\n          width: 150\n        }, {\n          label: 'LastName',\n          field: 'lname',\n          width: 270\n        }, {\n          label: 'Mobile',\n          field: 'mobile',\n          width: 270\n        }, {\n          label: 'Amount Paid',\n          field: 'amount_payable',\n          width: 200\n        }, {\n          label: 'Discount Provided',\n          field: 'total_discount',\n          sort: 'disabled',\n          width: 150\n        }, {\n          label: 'Payment Type',\n          field: 'payment_method',\n          width: 270\n        }, {\n          label: 'Date',\n          field: 'date',\n          width: 270\n        }, {\n          label: 'Reciept',\n          field: 'receipt_pdf',\n          width: 270\n        }],\n        rows: []\n      }\n    };\n    this.payments = \"\";\n    var _headers = {\n      'Authorization': 'Token ' + sessionStorage.getItem('token')\n    };\n    axios.get('https://shield.pythonanywhere.com/payments/payments_today/', {\n      headers: _headers\n    }).then(response => {\n      var payments = response.data.Data.amount_wise_payment_list.map(payment => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 16\n          }\n        }, \" \", /*#__PURE__*/React.createElement(\"th\", {\n          style: {\n            color: \"green\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }\n        }, payment.name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 68\n          }\n        }, payment.amount));\n      });\n      var total_amount = response.data.Data.total_amount_paid_today;\n      this.setState({\n        payments: payments,\n        total_amount: total_amount\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"black\",\n        fontSize: \"15px\",\n        color: \"green\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n      className: \"table-responsive\",\n      style: {\n        backgroundColor: \"black\",\n        fontSize: \"20px\",\n        color: \"white\"\n      },\n      hover: true,\n      entriesOptions: [10, 20, 25],\n      entries: 10,\n      pagesAmount: 4,\n      data: this.state.datatable,\n      searchTop: true,\n      searchBottom: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\",\n        backgroundColor: \"black\",\n        fontSize: \"20px\",\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Payment Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, \"Amount Paid\")), console.log(this.payments), this.state.payments, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        color: \"blue\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        color: \"blue\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }\n    }, this.state.total_amount)))));\n  }\n\n}\n\nexport default Customer;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayadone/src/components/sale.component.js"],"names":["React","Component","MDBDataTableV5","Menu","axios","Customer","constructor","props","update_rows","response","console","log","columns","state","datatable","rows","data","status","Data","results","forEach","element","row","customer","fname","lname","mobile","amount_payable","total_discount","payment_method","name","date","receipt_pdf","push","setState","get_next","headers","sessionStorage","getItem","get","then","result","links","next","componentDidMount","history","label","field","width","sort","payments","amount_wise_payment_list","map","payment","color","amount","total_amount","total_amount_paid_today","render","backgroundColor","fontSize","textAlign"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component'\nimport '../css/sale.css';\nimport axios from 'axios';\n\n\nclass Customer extends Component\n{\nconstructor(props)\n{\n    super(props);\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/')\n  }\n    this.state={\n        datatable:{\n            columns:[\n                {\n                    label: 'FirstName',\n                    field: 'fname',\n                    width: 150,\n                  },\n                  {\n                    label: 'LastName',\n                    field: 'lname',\n                    width: 270,\n                  },\n                  {\n                    label: 'Mobile',\n                    field: 'mobile',\n                    width: 270,\n                  },\n                  {\n                    label: 'Amount Paid',\n                    field: 'amount_payable',\n                    width: 200,\n                  },\n                  {\n                    label: 'Discount Provided',\n                    field: 'total_discount',\n                    sort: 'disabled',\n                    width: 150,\n                  },\n                  {\n                    label: 'Payment Type',\n                    field: 'payment_method',\n                    width: 270,\n                  },\n                  {\n                    label: 'Date',\n                    field: 'date',\n                    width: 270,\n                  },\n                  {\n                    label: 'Reciept',\n                    field: 'receipt_pdf',\n                    width: 270,\n                  }\n            ],\n            rows: [\n            ],\n        }\n    }\n    this.payments=\"\";\n    var headers = {\n      'Authorization': 'Token '+sessionStorage.getItem('token')\n    }\n    axios.get('https://shield.pythonanywhere.com/payments/payments_today/',{\n      headers: headers\n    })\n    .then(response =>{\n      var payments=response.data.Data.amount_wise_payment_list.map(payment=>{\n        return(<tr> <th style={{color:\"green\"}}>{payment.name}</th><td>{payment.amount}</td></tr>)\n      })\n      var total_amount=response.data.Data.total_amount_paid_today\n      this.setState({payments:payments,total_amount:total_amount})\n    })\n    }\n\n\n\n    update_rows=(response)=>{\n      console.log(response)\n      let columns=this.state.datatable.columns\n      let rows=this.state.datatable.rows\n      console.log(columns);\n      console.log(rows);\n      console.log(response.data)\n      if(response.data.status == 200)\n      {\n      response.Data.results.forEach(element=>{\n        var row={'fname':element.customer.fname,'lname':element.customer.lname,'mobile':element.customer.mobile,'amount_payable':element.amount_payable,'total_discount':element.total_discount,'payment_method':element.payment_method.name,'date':element.customer.date,'receipt_pdf':element.receipt_pdf?(<a href={element.receipt_pdf} target=\"blank\">click</a>):(\"\")}\n        console.log(row);\n        rows.push(row)\n      }\n        )\n      console.log(columns);\n      console.log(rows);\n      let datatable={columns:columns,rows:rows}\n      this.setState({datatable:datatable})\n    }\n  } \n    get_next=(response)=>{\n\n      console.log(response)\n      const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n\n        axios.get(response,{headers:headers})\n        .then(result=>{\n          // console.log(result.data.data.results)\n          this.update_rows(result.data);\n          if(result.data.Data.links.next != null)\n          {\n            this.get_next(result.data.Data.links.next)\n          }\n        })\n      \n    }\n\n    componentDidMount=()=>{\n      const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n      axios.get('https://shield.pythonanywhere.com/receipts/',{\n        headers: headers\n      })\n      .then(response =>{\n        // console.log(response.)\n        this.update_rows(response.data);\n        this.get_next(response.data.Data.links.next)\n      })\n\n      // axios.get('http://127.0.0.1:8000/payments/payments_today/',{\n      //   headers: headers\n      // })\n      // .then(response =>{\n\n      //   console.log(response)\n      //   const payments=response.data.Data.amount_wise_payment_list.map(payment=>{\n      //     return(<tr> <th style={{color:\"green\"}}>{payment.name}</th><td>{payment.amount}</td></tr>)\n      //   })\n      //   console.log(payments)\n      //   // this.update_rows(response.data);\n      //   // this.get_next(response.data.Data.links.next)\n      // })\n      \n    }\n    \nrender()\n{\n    return(\n      <div> \n        <Menu/>\n        <div style={{backgroundColor:\"black\",fontSize:\"15px\",color:\"green\"}}>\n        <MDBDataTableV5 className=\"table-responsive\" style={{backgroundColor:\"black\",fontSize:\"20px\",color:\"white\"}} hover entriesOptions={[10, 20, 25]} entries={10} pagesAmount={4} data={this.state.datatable} searchTop searchBottom={false} />\n        </div>\n        <div style={{textAlign:\"left\",backgroundColor:\"black\",fontSize:\"20px\",color:\"white\"}}>\n        <table  style={{width:\"100%\"}}>\n            <tr style={{color:\"red\"}}>\n                <th>Payment Type</th>\n                <th>Amount Paid</th>\n            </tr>\n  {/* <tr>\n    <th style={{color:\"green\"}}>Cash</th>\n    <td>15000</td>\n  </tr>\n  <tr>\n    <th style={{color:\"green\"}}>Google Pay</th>\n    <td>5000</td>\n  </tr>\n  <tr>\n    <th style={{color:\"green\"}}>Paytm</th>\n    <td>1000</td>\n  </tr>\n  <tr>\n    <th style={{color:\"green\"}}>PhonePay</th>\n    <td>150</td>\n  </tr> */}\n  {console.log(this.payments)}\n  {this.state.payments}\n  <tr>\n    <th style={{color:\"blue\"}}>Total</th>\n    <td style={{color:\"blue\"}}>{this.state.total_amount}</td>\n  </tr>\n</table>\n</div>\n\n      </div>\n\n    )\n   \n}\n}\nexport default Customer;"]},"metadata":{},"sourceType":"module"}