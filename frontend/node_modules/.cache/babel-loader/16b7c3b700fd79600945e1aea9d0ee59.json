{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/MERN/himalayadonelocal2/src/components/home.component.js\";\nimport React, { Component } from 'react';\nimport '../css/home.css';\nimport Menu from './menu.component';\nimport axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.errorOccured = (status, err, message) => {\n      let error = {\n        \"id\": this.state.errors.length + 1,\n        \"status\": status,\n        \"error\": err,\n        \"message\": message\n      };\n      let errors = this.state.errors;\n      errors.push(error);\n      console.log(errors);\n      this.setState(errors);\n    };\n\n    this.deleteError = e => {\n      let key = e.currentTarget.parentNode.getAttribute(\"data-key\");\n      console.log(key);\n      let errors = this.state.errors.filter(error => {\n        return parseInt(error.id) !== parseInt(key);\n      });\n      this.setState({\n        errors: errors\n      });\n    };\n\n    this.get_pdf = e => {\n      var error = false;\n      e.preventDefault();\n      var data = this.state;\n\n      if (data.payment_method === \"\" || data.payment_method === \"None\") {\n        this.errorOccured(404, \"erro occurred\", \"Payment Option is not provide\");\n        error = true;\n      }\n\n      data.items.map(item => {\n        if (item.item == '' || item.item == 'Select Item' || item.brand === 'Select Brand' || item.brand === 'Select Brand') {\n          this.errorOccured(400, \"erro occurred\", \"something in not provided in item \" + item.id);\n          error = true;\n        }\n      });\n      this.state.payment_options.map(option => {\n        console.log(option.name);\n\n        if (option.name === data.payment_method) {\n          data.payment_method = option.id;\n        }\n      });\n\n      try {\n        if (data.birth_day === \"\") {\n          if (window.confirm('DOB is not proviede, Do you wish to continue??')) {\n            data.birth_day = \"\";\n          } else {\n            error = true;\n          }\n        } else {\n          console.log(data.birth_day);\n          let date = this.state.birth_day;\n          data.birth_day = this.formatDate(date);\n        }\n      } catch (error) {\n        this.errorOccured(400, \"error occurred in dob\", error.message);\n      }\n\n      if (error == true) {\n        return;\n      }\n\n      try {\n        data.items.map(item => {\n          data.categories.map(category => {\n            if (item.item === category.name) {\n              item.item = category.id;\n              category.brands.map(brand => {\n                if (brand.name === item.brand) {\n                  item.brand = brand.id;\n                }\n              });\n            }\n          });\n        });\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.message);\n      }\n\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.post('https://shield.pythonanywhere.com/receipts/', data, {\n        headers: headers\n      }).then(response => {\n        console.log(response);\n\n        if (response.status == 200) {\n          console.log('occ');\n\n          if (response.data.status == 404) {\n            this.errorOccured(404, response.data.error.error, \"Error Submitting\");\n          } else if (response.data.status == 200) {\n            window.open(\"https://shield.pythonanywhere.com\" + response.data.Data.receipt_link);\n          } else {\n            this.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\");\n          }\n        } else {\n          this.errorOccured(500, \"erro occurred\", \"Unknown error occurred\");\n        }\n      }).catch(error => {\n        console.log(error.toString());\n        this.errorOccured(500, \"error occurred\", error.toString());\n      });\n    };\n\n    this.handleChange = e => {\n      try {\n        var data = e.target.value;\n        var money = this.find_sum();\n        this.setState({\n          [e.target.name]: data\n        }, () => {\n          let money = this.find_sum();\n          this.setState({\n            total_amount: money[0],\n            amount_payable: money[2],\n            total_discount: money[1]\n          });\n        });\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    this.formatDate = date => {\n      try {\n        var d = new Date(date),\n            month = '' + (d.getMonth() + 1),\n            day = '' + d.getDate(),\n            year = d.getFullYear();\n        if (month.length < 2) month = '0' + month;\n        if (day.length < 2) day = '0' + day;\n        return [year, month, day].join('-');\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    this.onChange = birth_day => {\n      try {\n        this.setState({\n          birth_day: birth_day\n        });\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    this.add_item = () => {\n      let item = {\n        \"id\": this.state.items.length + 1,\n        \"item\": \"\",\n        \"brand\": \"\",\n        \"size\": \"\",\n        \"quantity\": 1,\n        \"selling_price\": 0,\n        \"deleteable\": true\n      };\n\n      try {\n        let items = [...this.state.items, item];\n        this.setState({\n          items: items\n        });\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    this.delete_item = e => {\n      try {\n        let key = e.currentTarget.parentNode.parentNode.getAttribute(\"data-key\");\n        let items = this.state.items.filter(item => {\n          return parseInt(item.id) !== parseInt(key);\n        });\n        this.setState({\n          items: items\n        }, () => {\n          let money = this.find_sum();\n          this.setState({\n            total_amount: money[0],\n            amount_payable: money[2],\n            total_discount: money[1]\n          });\n        });\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    this.update_item = e => {\n      try {\n        let key = e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\"data-key\");\n        let name = e.currentTarget.getAttribute(\"name\");\n        let value = e.currentTarget.value;\n        let price = 0;\n        let quantity = 0;\n        let actual_cost_price = 0;\n        let found = false;\n\n        if (value === \"\") {\n          console.log(name);\n          console.log(value);\n\n          if (name != \"size\") {\n            return;\n          }\n        }\n\n        const items = this.state.items.length ? this.state.items.map(item => {\n          if (parseInt(item.id) === parseInt(key)) {\n            item[name] = value;\n\n            if (name == \"brand\") {\n              this.state.categories.map(category => {\n                if (item.item === category.name) {\n                  console.log(category);\n                  category.brands.map(brand => {\n                    if (brand.name === value) {\n                      item.selling_price = brand.actual_cost_price;\n                      found = true;\n                    }\n                  });\n                }\n\n                if (found == false) {\n                  item.selling_price = 0;\n                }\n              });\n            }\n          }\n\n          console.log(this.state);\n          return item;\n        }) : [];\n        let money = this.find_sum();\n        this.setState({\n          total_amount: money[0],\n          amount_payable: money[2],\n          total_discount: money[1]\n        });\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    this.getBrands = id => {\n      try {\n        const brands = this.state.categories.filter(category => {\n          return parseInt(category.id) == parseInt(id);\n        });\n        return brands[0].brands;\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    this.find_sum = (quantity, value) => {\n      var money = new Array(3).fill(0);\n\n      try {\n        var discount = parseInt(this.state.discount_given ? this.state.discount_given : 0);\n        this.state.items.forEach(item => {\n          let price = parseInt(item.selling_price);\n          let quantity = parseInt(item.quantity);\n          money[0] = parseInt(money[0]) + parseInt(price) * parseInt(quantity);\n        });\n        money[1] = Math.round(discount * money[0] / 100.0);\n        money[2] = money[0] - money[1];\n        return money;\n      } catch (error) {\n        this.errorOccured(400, \"error occurred\", error.toString());\n      }\n    };\n\n    let _date = new Date();\n\n    console.log(_date.getFullYear() + '-' + _date.getMonth() + 1 + '-' + _date.getDate());\n\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      fname: \"\",\n      lname: \"\",\n      mobile: \"\",\n      payment_method: \"\",\n      birth_day: \"\",\n      items: [{\n        \"id\": 1,\n        \"item\": \"\",\n        \"brand\": \"\",\n        \"size\": \"\",\n        \"quantity\": 1,\n        \"selling_price\": 0,\n        \"deleteable\": false\n      }],\n      discount_given: 0,\n      total_amount: 0,\n      total_discount: 0,\n      amount_payable: 0,\n      payment_options: [],\n      categories: [],\n      sizes: [],\n      errors: []\n    };\n    const _headers = {\n      'Authorization': 'Token ' + sessionStorage.getItem('token')\n    };\n    axios.get('http://127.0.0.1:8000/payments/', {\n      headers: _headers\n    }).then(response => {\n      console.log(response);\n\n      if (response.status == 200) {\n        if (response.data.status == 404) {\n          this.errorOccured(404, response.data.error.error, \"No payment options to display\");\n        } else if (response.data.status == 200) {\n          console.log(response);\n          var errors = [];\n\n          if (response.data.status != 404) {\n            console.log(response.data.Data);\n            this.setState({\n              payment_options: response.data.Data\n            });\n          }\n        } else {\n          console.log('occ');\n          this.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\");\n        }\n      } else {\n        console.log('occ');\n        this.errorOccured(500, \"erro occurred\", \"Unknown error occurred\");\n      }\n    }).catch(error => {\n      console.log('occ');\n      this.errorOccured(500, \"error occurred\", error.message);\n    });\n    axios.get('http://127.0.0.1:8000/items/itemsBrand/', {\n      headers: _headers\n    }).then(response => {\n      console.log(response);\n\n      if (response.status == 200) {\n        console.log('occ');\n\n        if (response.data.status == 404) {\n          this.errorOccured(404, response.data.error.error, \"No Itmes to display\");\n        } else if (response.data.status == 200) {\n          let categories = response.data.Data;\n          this.setState({\n            categories: categories\n          });\n        } else {\n          this.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\");\n        }\n      } else {\n        this.errorOccured(500, \"erro occurred\", \"Unknown error occurred\");\n      }\n    }).catch(error => {\n      console.log('occ');\n      this.errorOccured(500, \"error occurred\", error.message);\n    });\n    axios.get('http://127.0.0.1:8000/sizes/', {\n      headers: _headers\n    }).then(response => {\n      this.setState({\n        sizes: response.data.Data\n      });\n    }).catch(error => {\n      console.log('here');\n      this.errorOccured(500, \"error occurred\", error.message);\n    });\n\n    let _money = this.find_sum();\n\n    this.setState({\n      total_amount: _money[0],\n      amount_payable: _money[2],\n      total_discount: _money[1]\n    });\n  }\n\n  render() {\n    const payments = this.state.payment_options.length ? this.state.payment_options.map(option => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: option.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 17\n        }\n      }, option.name);\n    }) : \"\";\n    this.errorOccured(400, \"error occurred\", error.toString());\n    const categories = this.state.categories.length ? this.state.categories.map(category => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: category.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 17\n        }\n      }, category.name);\n    }) : \"\";\n    const sizes = this.state.sizes.length ? this.state.sizes.map(size => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: size.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 17\n        }\n      }, size.name);\n    }) : \" \";\n    var Error = this.state.errors.length ? this.state.errors.map(error => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        \"data-key\": error.id,\n        className: \"alert alert-danger alert-dismissible override\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 74\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.deleteError,\n        class: \"close\",\n        \"data-dismiss\": \"alert\",\n        \"aria-label\": \"close\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 2\n        }\n      }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 7\n        }\n      }, \"error!\"), \" \", error.error), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 7\n        }\n      }, \"message\"), \" \", error.message), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 2\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 7\n        }\n      }, \"status\"), \" \", error.status));\n    }) : \"\";\n    const items = this.state.items.length ? this.state.items.map(item => {\n      const temp = this.state.categories.filter(category => {\n        if (item.item == category.name) {\n          return category;\n        }\n      });\n      let brands = \"\";\n\n      try {\n        brands = temp[0].brands.length ? temp[0].brands.map(brand => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            key: brand.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 25\n            }\n          }, brand.name);\n        }) : \" \";\n      } catch (e) {\n        console.log(e);\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        \"data-key\": item.id,\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        onChange: this.update_item,\n        type: \"text\",\n        value: item.item,\n        className: \"form-control item\",\n        name: \"item\",\n        placeholder: \"Item\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 42\n        }\n      }, \"(\", /*#__PURE__*/React.createElement(\"option\", {\n        key: \"-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 179\n        }\n      }, \"Select Itme\"), categories))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        onChange: this.update_item,\n        type: \"text\",\n        value: item.brand,\n        className: \"form-control item\",\n        name: \"brand\",\n        placeholder: \"Brand\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 42\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        key: \"-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 181\n        }\n      }, \"Select Brand\"), brands))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onChange: this.update_item,\n        type: \"text\",\n        value: item.size,\n        className: \"form-control item\",\n        name: \"size\",\n        placeholder: \"Size\",\n        list: \"sizes\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 42\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        onChange: this.update_item,\n        type: \"number\",\n        value: item.quantity,\n        className: \"form-control item\",\n        min: \"1\",\n        name: \"quantity\",\n        placeholder: \"Quantity/Pairs\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 42\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        onChange: this.update_item,\n        type: \"number\",\n        value: item.selling_price,\n        className: \"form-control item \",\n        min: \"0\",\n        name: \"selling_price\",\n        placeholder: \"Price\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 42\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-postpend column\",\n        style: {\n          width: \"10%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }\n      }, item.deleteable ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.delete_item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-times-circle add-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 83\n        }\n      })) : /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.add_item,\n        id: \"add-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 141\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-plus-circle add-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 186\n        }\n      }))));\n    }) : \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }\n    }, Error, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: \"800px\"\n      },\n      className: \"card float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 25\n      }\n    }, \"Generate Reciept\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-sm-offset-4 card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.get_pdf,\n      id: \"login_form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"white\"\n      },\n      className: \"float-left\",\n      for: \"fname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 91\n      }\n    }, \"Enter First Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      value: this.state.fname,\n      className: \"form-control input-sm\",\n      id: \"fname\",\n      name: \"fname\",\n      placeholder: \"First Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"white\"\n      },\n      className: \"float-left\",\n      for: \"lname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 91\n      }\n    }, \"Enter Last Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.lname,\n      id: \"lname\",\n      name: \"lname\",\n      placeholder: \"Last Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"white\"\n      },\n      className: \"float-left\",\n      for: \"mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 92\n      }\n    }, \"Enter Mobile No:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"tel\",\n      value: this.state.mobile,\n      className: \"form-control\",\n      id: \"mobile\",\n      placeholder: \"Mobile Number\",\n      name: \"mobile\",\n      pattern: \"[0-9]{10}\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"white\"\n      },\n      className: \"float-left\",\n      for: \"payment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 93\n      }\n    }, \"Enter Payment Mode\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      value: this.state.payment_method,\n      id: \"payment\",\n      name: \"payment_method\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 35\n      }\n    }, \" None\"), payments)), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"white\"\n      },\n      className: \"float-left\",\n      for: \"dob\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 93\n      }\n    }, \"Enter Date of Birth\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      maxDate: new Date(),\n      placeholderText: \"Enter DOB\",\n      dateFormat: \"dd/MM/yyyy\",\n      selected: this.state.birth_day,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"items-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 29\n      }\n    }, items, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group float-right price-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.amount_payable,\n      readOnly: true,\n      id: \"amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group float-right price-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-percent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      onChange: this.handleChange,\n      name: \"discount_given\",\n      value: this.state.discount_given,\n      className: \"form-control\",\n      min: \"0\",\n      max: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: \"btn-lg login_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"datalist\", {\n      id: \"sizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 25\n      }\n    }, sizes)))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayadonelocal2/src/components/home.component.js"],"names":["React","Component","Menu","axios","DatePicker","Home","constructor","props","errorOccured","status","err","message","error","state","errors","length","push","console","log","setState","deleteError","e","key","currentTarget","parentNode","getAttribute","filter","parseInt","id","get_pdf","preventDefault","data","payment_method","items","map","item","brand","payment_options","option","name","birth_day","window","confirm","date","formatDate","categories","category","brands","headers","sessionStorage","getItem","post","then","response","open","Data","receipt_link","catch","toString","handleChange","target","value","money","find_sum","total_amount","amount_payable","total_discount","d","Date","month","getMonth","day","getDate","year","getFullYear","join","onChange","add_item","delete_item","update_item","price","quantity","actual_cost_price","found","selling_price","getBrands","Array","fill","discount","discount_given","forEach","Math","round","history","fname","lname","mobile","sizes","get","render","payments","size","Error","temp","width","deleteable","maxWidth","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../css/home.css';\nimport Menu from './menu.component'\nimport axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass Home extends Component {\n    constructor(props) {\n        super(props)\n     let date=new Date(); \n     console.log(date.getFullYear()+'-'+date.getMonth()+1+'-'+date.getDate())\n        if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n            this.props.history.push('/')\n        }\n        this.state = {\n            fname: \"\",\n            lname: \"\",\n            mobile: \"\",\n            payment_method: \"\",\n            birth_day: \"\",\n            items: [\n                {\n                    \"id\": 1,\n                    \"item\": \"\",\n                    \"brand\":\"\",\n                    \"size\":\"\",\n                    \"quantity\": 1,\n                    \"selling_price\": 0,\n                    \"deleteable\": false\n                }\n            ],\n            discount_given: 0,\n            total_amount:0,\n            total_discount: 0,\n            amount_payable: 0,\n            payment_options: [],\n            categories: [],\n            sizes: [],\n             errors:[] \n           }\n        const headers = { 'Authorization': 'Token ' + sessionStorage.getItem('token') }\n\n        axios.get('http://127.0.0.1:8000/payments/', { headers: headers })\n        .then(response => {\n            console.log(response)\n            if(response.status == 200)\n            {\n\n                if(response.data.status == 404)\n                {\n                    this.errorOccured(404,response.data.error.error,\"No payment options to display\")\n                }\n    \n                \n            \n                else if(response.data.status == 200)\n                {\n                    console.log(response)\n                    var errors=[]\n                    if(response.data.status != 404)\n                    {\n                        console.log(response.data.Data)\n                    this.setState({ payment_options: response.data.Data })\n                    }\n                }\n                else\n                {\n                    console.log('occ')\n                    this.errorOccured(response.data.status,response.error.error,\"Unknown Error Occurred\")\n                }\n            }\n            else\n            {\n                console.log('occ')\n                this.errorOccured(500,\"erro occurred\",\"Unknown error occurred\")\n    \n            }\n            })\n        .catch(error => {\n            console.log('occ')\n            this.errorOccured(500,\"error occurred\",error.message)\n        });\n\n\n        axios.get('http://127.0.0.1:8000/items/itemsBrand/', { headers: headers })\n        .then(response => {\n            console.log(response)\n            if(response.status == 200)\n            {\n                console.log('occ')\n    \n                if(response.data.status == 404)\n                {\n                    this.errorOccured(404,response.data.error.error,\"No Itmes to display\")\n                }\n                else if(response.data.status == 200)\n                {\n                    let categories=response.data.Data\n                    this.setState({categories:categories})\n                    \n                }\n                else\n                {\n                    this.errorOccured(response.data.status,response.error.error,\"Unknown Error Occurred\")\n                }\n            }\n            else\n            {\n                this.errorOccured(500,\"erro occurred\",\"Unknown error occurred\")\n    \n            }\n            })\n        .catch(error => {\n            console.log('occ')\n            this.errorOccured(500,\"error occurred\",error.message)\n        });\n\n\n        axios.get('http://127.0.0.1:8000/sizes/', { headers: headers })\n            .then(response => {  \n                this.setState({ sizes: response.data.Data })\n            }) \n            .catch(error=>{\n                console.log('here')\n                this.errorOccured(500,\"error occurred\",error.message)\n            })\n            let money=this.find_sum()\n            this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]}) \n\n    }\n\n    errorOccured=(status,err,message)=>{\n        let error={\"id\":this.state.errors.length+1,\"status\":status,\"error\":err,\"message\":message}\n        let errors=this.state.errors\n        errors.push(error)\n        console.log(errors)\n        this.setState(errors)\n    }\n    \n    deleteError=(e)=>{\n            let key= e.currentTarget.parentNode.getAttribute(\"data-key\");\n            console.log(key)\n            let errors = this.state.errors.filter(error => {\n                return parseInt(error.id) !== parseInt(key);\n            })\n            this.setState({errors: errors})\n    }\n\n\n\n    get_pdf = (e) => {\n        var error=false;\n        e.preventDefault();\n        var data=this.state\n        if(data.payment_method === \"\" || data.payment_method === \"None\")\n        {\n            this.errorOccured(404,\"erro occurred\",\"Payment Option is not provide\")\n            error=true;\n\n        }\n        data.items.map(item=>{\n            if(item.item == '' || item.item == 'Select Item' || item.brand === 'Select Brand' || item.brand === 'Select Brand')\n            {\n                this.errorOccured(400,\"erro occurred\",\"something in not provided in item \"+item.id)\n                error=true;\n            }\n        })\n\n\n        this.state.payment_options.map(option=>{\n            console.log(option.name)\n            if(option.name === data.payment_method)\n            {\n                data.payment_method=option.id\n            }\n        })\n\n        try\n        {\n            if(data.birth_day === \"\")\n            {\n                if(window.confirm('DOB is not proviede, Do you wish to continue??'))\n                {\n                    data.birth_day=\"\"\n                }\n                else\n                {\n                    error=true;\n                }\n            }\n            else\n            {\n                console.log(data.birth_day)\n                let date=this.state.birth_day\n                data.birth_day=this.formatDate(date)\n\n            }\n\n        }\n        catch(error)\n        {\n            this.errorOccured(400,\"error occurred in dob\",error.message)\n            \n        }\n        if(error == true)\n        {\n            return;\n        }\ntry\n{\ndata.items.map(item=>{\n    data.categories.map(category=>{\n        if(item.item === category.name)\n        {\n             item.item=category.id\n            category.brands.map(brand=>{\n                    if(brand.name === item.brand)\n                    {\n                        item.brand=brand.id\n                    }\n              \n            })\n        }\n    })\n})\n    }\n    catch(error)\n    {\n        this.errorOccured(400,\"error occurred\",error.message)\n    }\n\n\n        const headers = {\n            'Authorization': 'Token ' + sessionStorage.getItem('token')\n        }\n        axios.post('https://shield.pythonanywhere.com/receipts/', data, {\n            headers: headers,\n        })\n        .then(response => {\n            console.log(response)\n            if(response.status == 200)\n            {\n                console.log('occ')\n    \n                if(response.data.status == 404)\n                {\n                    this.errorOccured(404,response.data.error.error,\"Error Submitting\")\n                }\n                else if(response.data.status == 200)\n                {\n                    window.open(\"https://shield.pythonanywhere.com\" + response.data.Data.receipt_link);\n                    \n                }\n                else\n                {\n                    this.errorOccured(response.data.status,response.error.error,\"Unknown Error Occurred\")\n                }\n            }\n            else\n            {\n                this.errorOccured(500,\"erro occurred\",\"Unknown error occurred\")\n    \n            }\n            })\n        .catch(error => {\n            console.log(error.toString())\n            this.errorOccured(500,\"error occurred\",error.toString())\n        });\n    }\n\n\n\n\n    handleChange = (e) => {\n        try\n        {\n        var data = e.target.value;\n        var money=this.find_sum()\n        this.setState({\n            [e.target.name]: data\n        },()=>{let money=this.find_sum();this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]})})\n        }\n        catch(error)\n        {\n            this.errorOccured(400,\"error occurred\",error.toString())\n\n        }\n    }\n\n    formatDate=(date)=> {\n        try\n        {\n        var d = new Date(date),\n            month = '' + (d.getMonth() + 1),\n            day = '' + d.getDate(),\n            year = d.getFullYear();\n    \n        if (month.length < 2) \n            month = '0' + month;\n        if (day.length < 2) \n            day = '0' + day;\n    \n        return [year, month, day].join('-');\n        }\n        catch(error)\n        {\n            this.errorOccured(400,\"error occurred\",error.toString())\n\n        }\n    }\n\n    onChange =(birth_day) => {\n        try\n        {\n        this.setState({birth_day:birth_day});\n    }\n    catch(error)\n    {\n        this.errorOccured(400,\"error occurred\",error.toString())\n    }\n}\n\n\n    add_item = () => {\n        let item = {\n            \"id\": this.state.items.length + 1,\n            \"item\": \"\",\n            \"brand\":\"\",\n            \"size\":\"\",\n            \"quantity\":1,\n            \"selling_price\": 0,\n            \"deleteable\": true,\n        }\n        try\n        {\n        let items = [...this.state.items, item];\n        this.setState({\n            items: items\n        });\n    }\n    catch(error)\n    {\n        this.errorOccured(400,\"error occurred\",error.toString())\n\n    }\n    };\n\n\n    delete_item = (e) => {\n        try\n        {\n        let key= e.currentTarget.parentNode.parentNode.getAttribute(\"data-key\");\n        let items = this.state.items.filter(item => {\n            return parseInt(item.id) !== parseInt(key);\n        })\n         this.setState({items: items},()=>{ let money=this.find_sum();this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]})})\n   \n    }\n    catch(error)\n    {\n        this.errorOccured(400,\"error occurred\",error.toString())\n\n    }\n        }\n\n\n\n    update_item =   (e) =>  {\n        try\n        {\n       let key  =   e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\"data-key\");\n       let name =   e.currentTarget.getAttribute(\"name\")\n       let value    =   e.currentTarget.value\n       let price=0\n       let quantity=0\n       let actual_cost_price=0\n       let found=false;\n       if(value === \"\")\n       {\n           console.log(name)\n           console.log(value)\n           if(name != \"size\")\n           {\n           return;\n           }\n       }\n       const items =  this.state.items.length?  (this.state.items.map(item => {\n           if (parseInt(item.id) === parseInt(key))\n           {\n               item[name]=value;\n               if(name==\"brand\")\n               {\n                   this.state.categories.map(category=>{\n                       if(item.item === category.name)\n                       {\n                       console.log(category)\n                       category.brands.map(brand=>{\n                           if(brand.name === value)\n                           {\n                               item.selling_price=brand.actual_cost_price\n                               found=true\n                           }\n                       })\n                       }\n                       if(found == false)\n                       {\n                           item.selling_price=0\n                       }\n\n                   })\n               }\n           }\n           console.log(this.state)\n           return(item)\n       })):([])\n       let money=this.find_sum()\n\n       this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]})\n    }\n    catch(error)\n    {\n        this.errorOccured(400,\"error occurred\",error.toString())\n\n    }\n\n    }\n\n\n\n    getBrands = (id) => {\n        try\n        {\n        const brands = this.state.categories.filter(category => {\n            return parseInt(category.id) == parseInt(id)\n        })\n        return (brands[0].brands)\n    }\n    catch(error)\n    {\n        this.errorOccured(400,\"error occurred\",error.toString())\n\n    }\n    }\n\n\n    find_sum = (quantity,value) => {\n        var money=new Array(3).fill(0)\n        try\n        {\n        var discount=parseInt(this.state.discount_given?(this.state.discount_given):0)\n        this.state.items.forEach((item) => {\n            let price = parseInt(item.selling_price)\n            let quantity = parseInt(item.quantity)\n            money[0] = parseInt(money[0]) + parseInt(price) * parseInt(quantity)\n        });\n        money[1]=Math.round((discount*money[0])/100.0)\n        money[2]=money[0]-money[1]\n        return money;\n    }\n    catch(error)\n    {\n        this.errorOccured(400,\"error occurred\",error.toString())\n\n    }\n    }\n\n\n\nrender()\n{\n\n\n    const payments = this.state.payment_options.length?(this.state.payment_options.map(option => {\n        return (<option key={option.id}>{option.name}</option>)\n    })) : (\"\");\n\n\n    this.errorOccured(400,\"error occurred\",error.toString())\n\n\n\n    const categories = this.state.categories.length ? (this.state.categories.map(category => {\n        return (<option key={category.id}>{category.name}</option>)\n    })) : (\"\");\n\n\n\n    const sizes = this.state.sizes.length ? (this.state.sizes.map(size => {\n        return (<option key={size.id}>{size.name}</option>)\n    })) : (\" \")\n\n\tvar Error=this.state.errors.length?this.state.errors.map(error=>{return(<div data-key={error.id} className='alert alert-danger alert-dismissible override'>\n\t<a href=\"#\" onClick={this.deleteError} class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a>\n\t<div><strong>error!</strong> {error.error}</div>\n\t<div><strong>message</strong> {error.message}</div>\n\t<div><strong>status</strong> {error.status}</div></div>)}):(\"\")\n\n    const items = this.state.items.length ? (this.state.items.map(item => {\n        const temp = this.state.categories.filter(category => {\n               \n          if (item.item == category.name) {\n                return category\n            }\n    \n            \n        })\n        let brands=\"\"\n        try\n        {\n            brands = temp[0].brands.length ? (temp[0].brands.map(brand => {\n                return (<option key={brand.id}>{brand.name}</option>)\n            })) : (\" \")\n        }\n        catch(e)\n        {\n            console.log(e)\n        }\n\n\n\n        return (\n            <div data-key={item.id} className=\"row\">\n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><select onChange={this.update_item} type=\"text\" value={item.item} className=\"form-control item\" name=\"item\" placeholder=\"Item\" required>(<option key=\"-1\">Select Itme</option>{categories}</select></div>\n            </div>\n            \n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><select onChange={this.update_item} type=\"text\" value={item.brand} className=\"form-control item\" name=\"brand\" placeholder=\"Brand\" required><option key=\"-1\" >Select Brand</option>{brands}</select></div>\n            </div>\n\n            \n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><input onChange={this.update_item}  type=\"text\" value={item.size} className=\"form-control item\" name=\"size\" placeholder=\"Size\" list=\"sizes\"></input></div>\n            </div>\n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.quantity} className=\"form-control item\" min=\"1\" name=\"quantity\" placeholder=\"Quantity/Pairs\" required /></div>\n            </div>\n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.selling_price} className=\"form-control item \" min=\"0\" name=\"selling_price\" placeholder=\"Price\" required /></div>\n            </div>\n            <div className=\"input-group-postpend column\" style={{width:\"10%\"}}>\n                            {item.deleteable ? (<span onClick={this.delete_item} ><i className=\"fa fa-times-circle add-btn\"></i></span>) : (<span onClick={this.add_item} id=\"add-item\" ><i className=\"fa fa-plus-circle add-btn\"></i></span>)}\n                        </div> \n            </div>)\n\n    })) : (\"\");\n\n    return (\n        <div className=\"container\">\n                    {Error}\n\n           \n            <div className=\"d-flex justify-content-center h-100\">\n            <Menu></Menu>\n                <div style={{maxWidth:\"800px\"}} className=\"card float-left\">\n               \n                    <div className=\"card-header\">\n                        <h3>Generate Reciept</h3>\n                    </div>\n                    <div className=\"col-sm-12 col-sm-offset-4 card-body\">\n                        <form onSubmit={this.get_pdf} id=\"login_form\">\n                        <label style={{color:\"white\"}} className=\"float-left\" for=\"fname\"><b>Enter First Name</b></label>\n\n                            <div className=\"input-group form-group\">\n\n                                <input onChange={this.handleChange} type=\"text\" value={this.state.fname} className=\"form-control input-sm\" id=\"fname\" name=\"fname\" placeholder=\"First Name\" required />\n                            </div>\n                        <label style={{color:\"white\"}} className=\"float-left\" for=\"lname\"><b>Enter Last Name</b></label>\n\n                            <div className=\"input-group form-group\">\n\n                                <input onChange={this.handleChange} type=\"text\" className=\"form-control\" value={this.state.lname} id=\"lname\" name=\"lname\" placeholder=\"Last Name\" required />\n                            </div>\n                        <label style={{color:\"white\"}} className=\"float-left\" for=\"mobile\"><b>Enter Mobile No:</b></label>\n\n                            <div className=\"input-group form-group\">\n\n                                <input onChange={this.handleChange} type=\"tel\" value={this.state.mobile} className=\"form-control\" id=\"mobile\" placeholder=\"Mobile Number\" name=\"mobile\" pattern=\"[0-9]{10}\" required />\n                            </div>\n\n                        <label style={{color:\"white\"}} className=\"float-left\" for=\"payment\"><b>Enter Payment Mode</b></label>\n                           \n                            <div className=\"input-group form-group\">\n\n                                <select onChange={this.handleChange} value={this.state.payment_method} id=\"payment\" name=\"payment_method\" className=\"form-control\">\n                                  <option> None</option>\n  \n                                    {payments}\n                                </select>\n                            </div>\n                            <label style={{color:\"white\"}} className=\"float-left\" for=\"dob\"><b>Enter Date of Birth</b></label>\n\n                            <div className=\"input-group form-group\">\n\n                                <DatePicker maxDate={new Date()} placeholderText=\"Enter DOB\" dateFormat=\"dd/MM/yyyy\" selected={this.state.birth_day} onChange={this.onChange}/>\n                            </div>\n                            <div id=\"items-cart\">\n                                {items}\n                                <div>\n                                </div>\n                            </div>\n\n                            <div className=\"input-group form-group float-right price-tag\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fa fa-rupee\"></i></span>\n                                </div>\n                                <input type=\"text\" className=\"form-control\" value={this.state.amount_payable} readOnly id=\"amount\" />\n                            </div>\n\n                            <div className=\"input-group form-group float-right price-tag\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fa fa-percent\"></i></span>\n                                </div>\n                                <input type=\"number\" onChange={this.handleChange} name=\"discount_given\" value={this.state.discount_given} className=\"form-control\" min=\"0\" max=\"100\" />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <input type=\"submit\" value=\"Submit\" className=\"btn-lg login_btn\" />\n                            </div>\n\n                        </form>\n                        <datalist id=\"sizes\">\n                            {sizes}\n                        </datalist>\n                    </div>\n                </div>\n            </div>\n\n\n\n\n\n\n\n\n        </div>\n    )\n}\n}\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}