{"ast":null,"code":"import _defineProperty from\"/home/dilip/Desktop/MERN/himalayafinal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/dilip/Desktop/MERN/himalayafinal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dilip/Desktop/MERN/himalayafinal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/dilip/Desktop/MERN/himalayafinal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dilip/Desktop/MERN/himalayafinal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import md5 from'md5-hash';import'../css/login.css';import axios from'axios';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();axios.post(\"http://127.0.0.1:8000/owner/login_user/\",{'username':_this.state.username,'password':_this.state.password}).then(function(response){console.log(response);if(response.data.status===200){_this.setState({isLoggedIn:true,error:false});sessionStorage.setItem('username',_this.state.username);console.log(response.data.Data.token);sessionStorage.setItem('token',response.data.Data.token);_this.props.history.push('/home');}else{_this.setState({error:true});}}).catch(function(error){alert('unknown error occured,please contact operator');});};_this.state={username:null,password:null,isLoggedIn:false,error:false};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var Error=this.state.error?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\"},/*#__PURE__*/React.createElement(\"strong\",null,\"ERROR!\"),\" Given Username and Password are invalid\"):\"\";return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},Error,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Sign In\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,id:\"login_form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user\"}))),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,type:\"text\",className:\"form-control\",id:\"username\",name:\"username\",placeholder:\"username\",required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-key\"}))),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"password\",required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Login\",className:\"btn-lg float-right login_btn\"})))))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayafinal/src/components/login.component.js"],"names":["React","Component","md5","axios","Login","props","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","post","state","username","password","then","response","console","log","data","status","isLoggedIn","error","sessionStorage","setItem","Data","token","history","push","catch","alert","Error"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport md5 from 'md5-hash';\nimport '../css/login.css';\nimport axios from 'axios';\n\nclass Login extends Component\n{\nconstructor(props)\n{\n\tsuper(props)\n    this.state={\n        username:null,\n\t\tpassword:null,\n\t\tisLoggedIn:false,\n\t\terror:false,\n    }\n}\n\nhandleChange=(e)=>{\n\tthis.setState({\n\t  [e.target.name]:e.target.value\n\t})\n  }\n\n\nhandleSubmit=(e)=>{\n\te.preventDefault();\n\taxios.post(\"http://127.0.0.1:8000/owner/login_user/\", {'username':this.state.username,'password':this.state.password})\n    .then(response => {\n\t\tconsole.log(response)\n\t\tif(response.data.status === 200)\n\t\t{\n\t\t\tthis.setState({isLoggedIn:true,error:false})\t\n\t\t\tsessionStorage.setItem('username',this.state.username);\n\t\t\tconsole.log(response.data.Data.token)\n\t\t\tsessionStorage.setItem('token',response.data.Data.token);\n\t\t\tthis.props.history.push('/home');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({error:true})\n\t\t}})\n    .catch(error => {\n        alert('unknown error occured,please contact operator');\n\t});\n\t\n  }\n\nrender()\n{\n\tvar Error=this.state.error?(<div className='alert alert-danger'>\n\t<strong>ERROR!</strong> Given Username and Password are invalid\n\t</div>):((\"\"))\n    return(\n        <div className=\"container\">\n\t\t\t{Error}\n\n\t<div className=\"d-flex justify-content-center h-100\">\n\t\t<div className=\"card\">\n\t\t\t<div className=\"card-header\">\n\t\t\t\t<h3>Sign In</h3>\n\t\t\t</div>\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<form onSubmit={this.handleSubmit} id=\"login_form\">\n\t\t\t\t\t<div className=\"input-group form-group\">\n\t\t\t\t\t\t<div className=\"input-group-prepend\">\n\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input onChange={ this.handleChange } type=\"text\" className=\"form-control\" id=\"username\" name=\"username\" placeholder=\"username\" required></input>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"input-group form-group\">\n\t\t\t\t\t\t<div className=\"input-group-prepend\">\n\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-key\"></i></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input onChange={ this.handleChange } type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" placeholder=\"password\" required></input>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"Login\" className=\"btn-lg float-right login_btn\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n    )\n}\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}