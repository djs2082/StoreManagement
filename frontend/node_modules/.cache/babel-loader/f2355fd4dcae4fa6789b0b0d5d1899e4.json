{"ast":null,"code":"import _classCallCheck from\"/home/dilip/Desktop/MERN/himalayadone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dilip/Desktop/MERN/himalayadone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/dilip/Desktop/MERN/himalayadone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dilip/Desktop/MERN/himalayadone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{MDBDataTableV5}from'mdbreact';import Menu from'./menu.component';import axios from'axios';var Customer=/*#__PURE__*/function(_Component){_inherits(Customer,_Component);var _super=_createSuper(Customer);function Customer(props){var _this;_classCallCheck(this,Customer);_this=_super.call(this,props);_this.update_rows=function(response){var columns=_this.state.datatable.columns;var rows=_this.state.datatable.rows;response.Data.results.forEach(function(element){rows.push(element);});var datatable={columns:columns,rows:rows};_this.setState({datatable:datatable});};_this.get_next=function(response){console.log(response);var headers={'Authorization':'Token '+sessionStorage.getItem('token')};axios.get(response,{headers:headers}).then(function(result){// console.log(result.data.data.results)\n_this.update_rows(result.data);if(result.data.Data.links.next!=null){_this.get_next(result.data.Data.links.next);}});};_this.componentDidMount=function(){var headers={'Authorization':'Token '+sessionStorage.getItem('token')};axios.get('https://shield.pythonanywhere.com/customers/',{headers:headers}).then(function(response){_this.update_rows(response.data);_this.get_next(response.data.Data.links.next);});};if(sessionStorage.getItem('token')==='undefined'||sessionStorage.getItem('username')==='undefined'){_this.props.history.push('/');}_this.state={datatable:{columns:[{label:'FirstName',field:'fname',width:150},{label:'LastName',field:'lname',width:270},{label:'Mobile',field:'mobile',width:200},{label:'Date',field:'date',width:150},{label:'DOB',field:'birth_day',width:150}],rows:[]}};return _this;}_createClass(Customer,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Menu,null),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"black\",fontSize:\"15px\",color:\"green\"}},/*#__PURE__*/React.createElement(MDBDataTableV5,{className:\"table-responsive\",style:{textAlign:\"left\",backgroundColor:\"black\",fontSize:\"20px\",color:\"white\"},hover:true,entriesOptions:[10,20,25],entries:10,pagesAmount:4,data:this.state.datatable,searchTop:true,searchBottom:false})));}}]);return Customer;}(Component);export default Customer;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayadone/src/components/customer.component.js"],"names":["React","Component","MDBDataTableV5","Menu","axios","Customer","props","update_rows","response","columns","state","datatable","rows","Data","results","forEach","element","push","setState","get_next","console","log","headers","sessionStorage","getItem","get","then","result","data","links","next","componentDidMount","history","label","field","width","backgroundColor","fontSize","color","textAlign"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component'\nimport axios from 'axios';\n\nclass Customer extends Component\n{\nconstructor(props)\n{\n    super(props);\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/')\n  }\n    this.state={\n        datatable:{\n            columns:[\n                {\n                    label: 'FirstName',\n                    field: 'fname',\n                    width: 150,\n                  },\n                  {\n                    label: 'LastName',\n                    field: 'lname',\n                    width: 270,\n                  },\n                  {\n                    label: 'Mobile',\n                    field: 'mobile',\n                    width: 200,\n                  },\n                  {\n                    label: 'Date',\n                    field: 'date',\n                    width: 150,\n                  },\n                  {\n                    label: 'DOB',\n                    field: 'birth_day',\n                    width: 150,\n                  }\n            ],\n            rows: [],\n        }\n    }\n\n    }\n\n    update_rows=(response)=>{\n      let columns=this.state.datatable.columns\n      let rows=this.state.datatable.rows\n      response.Data.results.forEach(element=>{rows.push(element)})\n      let datatable={columns:columns,rows:rows}\n      this.setState({datatable:datatable})\n  } \n    get_next=(response)=>{\n\n      console.log(response)\n      const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n\n        axios.get(response,{headers:headers})\n        .then(result=>{\n          // console.log(result.data.data.results)\n          this.update_rows(result.data);\n          if(result.data.Data.links.next != null)\n          {\n            this.get_next(result.data.Data.links.next)\n          }\n        })\n      \n    }\n    \n    componentDidMount=()=>{\n      const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n      axios.get('https://shield.pythonanywhere.com/customers/',{\n        headers: headers\n      })\n      .then(response =>{\n        this.update_rows(response.data);\n        this.get_next(response.data.Data.links.next)\n      })\n      \n    }\n    \nrender()\n{\n\n        \n \n    return(\n      <div>\n           <Menu/>\n        <div style={{backgroundColor:\"black\",fontSize:\"15px\",color:\"green\"}}>\n        <MDBDataTableV5 className=\"table-responsive\" style={{textAlign:\"left\",backgroundColor:\"black\",fontSize:\"20px\",color:\"white\"}} hover entriesOptions={[10, 20, 25]} entries={10} pagesAmount={4} data={this.state.datatable} searchTop searchBottom={false} />\n        </div>\n      </div>\n\n    )\n   \n}\n}\nexport default Customer;"]},"metadata":{},"sourceType":"module"}