{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/Projects/StoreManageMent/FrontEnd/src/components/items.component.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component';\nimport axios from 'axios';\n\nclass Items extends Component {\n  constructor(props) {\n    super(props);\n\n    this.errorOccured = (status, err, message) => {\n      let error = {\n        \"id\": this.state.errors.length + 1,\n        \"status\": status,\n        \"error\": err,\n        \"message\": message\n      };\n      let errors = this.state.errors;\n      errors.push(error);\n      this.setState(errors);\n    };\n\n    this.deleteError = e => {\n      let key = e.currentTarget.parentNode.getAttribute(\"data-key\");\n      let errors = this.state.errors.filter(error => {\n        return parseInt(error.id) !== parseInt(key);\n      });\n      this.setState({\n        errors: errors\n      });\n    };\n\n    this.componentDidMount = () => {\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get(window.API_URL + '/brands/', {\n        headers: headers\n      }).then(response => {\n        console.log(response);\n\n        if (response.status == 200) {\n          if (response.data.status == 404) {\n            this.errorOccured(404, response.data.error.error, \"Error\");\n          } else if (response.data.status == 200) {\n            var items = response.data.Data.map(item => {\n              return {\n                'item': item.item.name,\n                'name': item.name,\n                'quantity': item.initial_quantity,\n                'remaining': item.quantity,\n                'cost_price': item.cost_price,\n                'price': item.price,\n                'intitial_discount': item.initial_discount,\n                'actual_cost_price': item.actual_cost_price,\n                'gst': item.gst,\n                'transport_charge': item.transport_charge\n              };\n            });\n            let columns = this.state.datatable.columns;\n            let datatable = {\n              columns: columns,\n              rows: items\n            };\n            this.setState({\n              datatable: datatable\n            });\n          } else {\n            this.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\");\n          }\n        } else {\n          this.errorOccured(500, \"erro occurred\", \"Unknown error occurred\");\n        }\n      }).catch(error => {\n        this.errorOccured(500, \"error occurred\", error.message);\n      });\n    };\n\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      datatable: {\n        columns: [{\n          label: 'Item',\n          field: 'item',\n          width: 150\n        }, {\n          label: 'BrandName',\n          field: 'name',\n          width: 270\n        }, {\n          label: 'Quantity',\n          field: 'quantity',\n          width: 200\n        }, {\n          label: 'Remaining',\n          field: 'remaining',\n          width: 200\n        }, {\n          label: 'Purchasing Price',\n          field: 'price',\n          width: 200\n        }, {\n          label: 'GST',\n          field: 'gst',\n          width: 200\n        }, {\n          label: 'Transport Charge',\n          field: 'transport_charge',\n          width: 200\n        }, {\n          label: 'Selling Price',\n          field: 'cost_price',\n          width: 200\n        }, {\n          label: 'Discount',\n          field: 'intitial_discount',\n          width: 200\n        }, {\n          label: 'Payable',\n          field: 'actual_cost_price',\n          width: 200\n        }],\n        rows: []\n      },\n      errors: []\n    };\n  }\n\n  render() {\n    var Error = this.state.errors.length ? this.state.errors.map(error => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        \"data-key\": error.id,\n        className: \"alert alert-danger alert-dismissible override\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.deleteError,\n        class: \"close\",\n        \"data-dismiss\": \"alert\",\n        \"aria-label\": \"close\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 14\n        }\n      }, \"error!\"), \" \", error.error), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 14\n        }\n      }, \"message\"), \" \", error.message), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 14\n        }\n      }, \"status\"), \" \", error.status));\n    }) : \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }), Error, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"black\",\n        fontSize: \"15px\",\n        color: \"green\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n      className: \"table-responsive\",\n      style: {\n        textAlign: \"left\",\n        backgroundColor: \"black\",\n        fontSize: \"20px\",\n        color: \"white\"\n      },\n      hover: true,\n      entriesOptions: [10, 20, 25],\n      entries: 10,\n      pagesAmount: 4,\n      data: this.state.datatable,\n      searchTop: true,\n      searchBottom: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Items;","map":{"version":3,"sources":["/home/dilip/Desktop/Projects/StoreManageMent/FrontEnd/src/components/items.component.js"],"names":["React","Component","MDBDataTableV5","Menu","axios","Items","constructor","props","errorOccured","status","err","message","error","state","errors","length","push","setState","deleteError","e","key","currentTarget","parentNode","getAttribute","filter","parseInt","id","componentDidMount","headers","sessionStorage","getItem","get","window","API_URL","then","response","console","log","data","items","Data","map","item","name","initial_quantity","quantity","cost_price","price","initial_discount","actual_cost_price","gst","transport_charge","columns","datatable","rows","catch","history","label","field","width","render","Error","backgroundColor","fontSize","color","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAC5BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAmEnBC,YAnEmB,GAmEJ,CAACC,MAAD,EAASC,GAAT,EAAcC,OAAd,KAA0B;AACvC,UAAIC,KAAK,GAAG;AAAE,cAAM,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,MAAlB,GAA2B,CAAnC;AAAsC,kBAAUN,MAAhD;AAAwD,iBAASC,GAAjE;AAAsE,mBAAWC;AAAjF,OAAZ;AACA,UAAIG,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAAxB;AACAA,MAAAA,MAAM,CAACE,IAAP,CAAYJ,KAAZ;AACA,WAAKK,QAAL,CAAcH,MAAd;AACD,KAxEkB;;AAAA,SA0EnBI,WA1EmB,GA0EJC,CAAD,IAAO;AACnB,UAAIC,GAAG,GAAGD,CAAC,CAACE,aAAF,CAAgBC,UAAhB,CAA2BC,YAA3B,CAAwC,UAAxC,CAAV;AACA,UAAIT,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAAX,CAAkBU,MAAlB,CAAyBZ,KAAK,IAAI;AAC7C,eAAOa,QAAQ,CAACb,KAAK,CAACc,EAAP,CAAR,KAAuBD,QAAQ,CAACL,GAAD,CAAtC;AACD,OAFY,CAAb;AAGA,WAAKH,QAAL,CAAc;AAAEH,QAAAA,MAAM,EAAEA;AAAV,OAAd;AACD,KAhFkB;;AAAA,SAkFnBa,iBAlFmB,GAkFC,MAAM;AACxB,YAAMC,OAAO,GAAG;AACd,yBAAiB,WAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AADd,OAAhB;AAGA1B,MAAAA,KAAK,CAAC2B,GAAN,CAAUC,MAAM,CAACC,OAAP,GAAe,UAAzB,EAAqC;AACnCL,QAAAA,OAAO,EAAEA;AAD0B,OAArC,EAGGM,IAHH,CAGQC,QAAQ,IAAI;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,YAAIA,QAAQ,CAAC1B,MAAT,IAAmB,GAAvB,EAA4B;AAE1B,cAAI0B,QAAQ,CAACG,IAAT,CAAc7B,MAAd,IAAwB,GAA5B,EAAiC;AAC/B,iBAAKD,YAAL,CAAkB,GAAlB,EAAuB2B,QAAQ,CAACG,IAAT,CAAc1B,KAAd,CAAoBA,KAA3C,EAAkD,OAAlD;AACD,WAFD,MAIK,IAAIuB,QAAQ,CAACG,IAAT,CAAc7B,MAAd,IAAwB,GAA5B,EAAiC;AACpC,gBAAI8B,KAAK,GAAGJ,QAAQ,CAACG,IAAT,CAAcE,IAAd,CAAmBC,GAAnB,CAAuBC,IAAI,IAAI;AACzC,qBAAQ;AAAE,wBAAQA,IAAI,CAACA,IAAL,CAAUC,IAApB;AAA0B,wBAAQD,IAAI,CAACC,IAAvC;AAA6C,4BAAYD,IAAI,CAACE,gBAA9D;AAAgF,6BAAaF,IAAI,CAACG,QAAlG;AAA4G,8BAAcH,IAAI,CAACI,UAA/H;AAA0I,yBAASJ,IAAI,CAACK,KAAxJ;AAA+J,qCAAqBL,IAAI,CAACM,gBAAzL;AAA2M,qCAAqBN,IAAI,CAACO,iBAArO;AAAwP,uBAAOP,IAAI,CAACQ,GAApQ;AAAyQ,oCAAoBR,IAAI,CAACS;AAAlS,eAAR;AACD,aAFW,CAAZ;AAGA,gBAAIC,OAAO,GAAG,KAAKvC,KAAL,CAAWwC,SAAX,CAAqBD,OAAnC;AACA,gBAAIC,SAAS,GAAG;AAAED,cAAAA,OAAO,EAAEA,OAAX;AAAoBE,cAAAA,IAAI,EAAEf;AAA1B,aAAhB;AACA,iBAAKtB,QAAL,CAAc;AAAEoC,cAAAA,SAAS,EAAEA;AAAb,aAAd;AAGD,WATI,MAUA;AAEH,iBAAK7C,YAAL,CAAkB2B,QAAQ,CAACG,IAAT,CAAc7B,MAAhC,EAAwC0B,QAAQ,CAACvB,KAAT,CAAeA,KAAvD,EAA8D,wBAA9D;AACD;AACF,SApBD,MAqBK;AAEH,eAAKJ,YAAL,CAAkB,GAAlB,EAAuB,eAAvB,EAAwC,wBAAxC;AAED;AACF,OA/BH,EAgCG+C,KAhCH,CAgCS3C,KAAK,IAAI;AAEd,aAAKJ,YAAL,CAAkB,GAAlB,EAAuB,gBAAvB,EAAyCI,KAAK,CAACD,OAA/C;AACD,OAnCH;AAoCD,KA1HkB;;AAEjB,QAAIkB,cAAc,CAACC,OAAf,CAAuB,OAAvB,MAAoC,WAApC,IAAmDD,cAAc,CAACC,OAAf,CAAuB,UAAvB,MAAuC,WAA9F,EAA2G;AACzG,WAAKvB,KAAL,CAAWiD,OAAX,CAAmBxC,IAAnB,CAAwB,GAAxB;AACD;;AACD,SAAKH,KAAL,GAAa;AACXwC,MAAAA,SAAS,EAAE;AACTD,QAAAA,OAAO,EAAE,CACP;AACEK,UAAAA,KAAK,EAAE,MADT;AAEEC,UAAAA,KAAK,EAAE,MAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SADO,EAMP;AACEF,UAAAA,KAAK,EAAE,WADT;AAEEC,UAAAA,KAAK,EAAE,MAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SANO,EAWP;AACEF,UAAAA,KAAK,EAAE,UADT;AAEEC,UAAAA,KAAK,EAAE,UAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SAXO,EAgBP;AACEF,UAAAA,KAAK,EAAE,WADT;AAEEC,UAAAA,KAAK,EAAE,WAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SAhBO,EAqBP;AACEF,UAAAA,KAAK,EAAE,kBADT;AAEEC,UAAAA,KAAK,EAAE,OAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SArBO,EA0BP;AACEF,UAAAA,KAAK,EAAE,KADT;AAEEC,UAAAA,KAAK,EAAE,KAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SA1BO,EA+BP;AACEF,UAAAA,KAAK,EAAE,kBADT;AAEEC,UAAAA,KAAK,EAAE,kBAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SA/BO,EAoCP;AACEF,UAAAA,KAAK,EAAE,eADT;AAEEC,UAAAA,KAAK,EAAE,YAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SApCO,EAyCP;AACEF,UAAAA,KAAK,EAAE,UADT;AAEEC,UAAAA,KAAK,EAAE,mBAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SAzCO,EA8CP;AACEF,UAAAA,KAAK,EAAE,SADT;AAEEC,UAAAA,KAAK,EAAE,mBAFT;AAGEC,UAAAA,KAAK,EAAE;AAHT,SA9CO,CADA;AAuDTL,QAAAA,IAAI,EAAE;AAvDG,OADA;AA0DXxC,MAAAA,MAAM,EAAE;AA1DG,KAAb;AA6DD;;AA0DD8C,EAAAA,MAAM,GAAG;AACP,QAAIC,KAAK,GAAG,KAAKhD,KAAL,CAAWC,MAAX,CAAkBC,MAAlB,GAA2B,KAAKF,KAAL,CAAWC,MAAX,CAAkB2B,GAAlB,CAAsB7B,KAAK,IAAI;AACpE,0BAAQ;AAAK,oBAAUA,KAAK,CAACc,EAArB;AAAyB,QAAA,SAAS,EAAC,+CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACN;AAAG,QAAA,IAAI,EAAC,GAAR;AAAY,QAAA,OAAO,EAAE,KAAKR,WAA1B;AAAuC,QAAA,KAAK,EAAC,OAA7C;AAAqD,wBAAa,OAAlE;AAA0E,sBAAW,OAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADM,eAEN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAL,OAA8BN,KAAK,CAACA,KAApC,CAFM,eAGN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAL,OAA+BA,KAAK,CAACD,OAArC,CAHM,eAIN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAL,OAA8BC,KAAK,CAACH,MAApC,CAJM,CAAR;AAKD,KANsC,CAA3B,GAMN,EANN;AAOA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEGoD,KAFH,eAGE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,eAAe,EAAE,OAAnB;AAA4BC,QAAAA,QAAQ,EAAE,MAAtC;AAA8CC,QAAAA,KAAK,EAAE;AAArD,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAC,kBAA1B;AAA6C,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE,MAAb;AAAqBH,QAAAA,eAAe,EAAE,OAAtC;AAA+CC,QAAAA,QAAQ,EAAE,MAAzD;AAAiEC,QAAAA,KAAK,EAAE;AAAxE,OAApD;AAAuI,MAAA,KAAK,MAA5I;AAA6I,MAAA,cAAc,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAA7J;AAA2K,MAAA,OAAO,EAAE,EAApL;AAAwL,MAAA,WAAW,EAAE,CAArM;AAAwM,MAAA,IAAI,EAAE,KAAKnD,KAAL,CAAWwC,SAAzN;AAAoO,MAAA,SAAS,MAA7O;AAA8O,MAAA,YAAY,EAAE,KAA5P;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAHF,CADF;AAWD;;AAhJ2B;;AAkJ9B,eAAehD,KAAf","sourcesContent":["import React, { Component } from 'react'\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component'\nimport axios from 'axios';\n\nclass Items extends Component {\n  constructor(props) {\n    super(props);\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/')\n    }\n    this.state = {\n      datatable: {\n        columns: [\n          {\n            label: 'Item',\n            field: 'item',\n            width: 150,\n          },\n          {\n            label: 'BrandName',\n            field: 'name',\n            width: 270,\n          },\n          {\n            label: 'Quantity',\n            field: 'quantity',\n            width: 200,\n          },\n          {\n            label: 'Remaining',\n            field: 'remaining',\n            width: 200,\n          },\n          {\n            label: 'Purchasing Price',\n            field: 'price',\n            width: 200,\n          },\n          {\n            label: 'GST',\n            field: 'gst',\n            width: 200,\n          },\n          {\n            label: 'Transport Charge',\n            field: 'transport_charge',\n            width: 200,\n          },\n          {\n            label: 'Selling Price',\n            field: 'cost_price',\n            width: 200,\n          },\n          {\n            label: 'Discount',\n            field: 'intitial_discount',\n            width: 200,\n          },\n          {\n            label: 'Payable',\n            field: 'actual_cost_price',\n            width: 200,\n          },\n\n\n        ],\n        rows: [],\n      },\n      errors: []\n    }\n\n  }\n  errorOccured = (status, err, message) => {\n    let error = { \"id\": this.state.errors.length + 1, \"status\": status, \"error\": err, \"message\": message }\n    let errors = this.state.errors\n    errors.push(error)\n    this.setState(errors)\n  }\n\n  deleteError = (e) => {\n    let key = e.currentTarget.parentNode.getAttribute(\"data-key\");\n    let errors = this.state.errors.filter(error => {\n      return parseInt(error.id) !== parseInt(key);\n    })\n    this.setState({ errors: errors })\n  }\n\n  componentDidMount = () => {\n    const headers = {\n      'Authorization': 'Token ' + sessionStorage.getItem('token')\n    }\n    axios.get(window.API_URL+'/brands/', {\n      headers: headers\n    })\n      .then(response => {\n        console.log(response);\n        if (response.status == 200) {\n\n          if (response.data.status == 404) {\n            this.errorOccured(404, response.data.error.error, \"Error\")\n          }\n\n          else if (response.data.status == 200) {\n            var items = response.data.Data.map(item => {\n              return ({ 'item': item.item.name, 'name': item.name, 'quantity': item.initial_quantity, 'remaining': item.quantity, 'cost_price': item.cost_price,'price': item.price, 'intitial_discount': item.initial_discount, 'actual_cost_price': item.actual_cost_price, 'gst': item.gst, 'transport_charge': item.transport_charge })\n            })\n            let columns = this.state.datatable.columns\n            let datatable = { columns: columns, rows: items }\n            this.setState({ datatable: datatable })\n\n\n          }\n          else {\n\n            this.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\")\n          }\n        }\n        else {\n\n          this.errorOccured(500, \"erro occurred\", \"Unknown error occurred\")\n\n        }\n      })\n      .catch(error => {\n\n        this.errorOccured(500, \"error occurred\", error.message)\n      });\n  }\n\n  render() {\n    var Error = this.state.errors.length ? this.state.errors.map(error => {\n      return (<div data-key={error.id} className='alert alert-danger alert-dismissible override'>\n        <a href=\"#\" onClick={this.deleteError} class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a>\n        <div><strong>error!</strong> {error.error}</div>\n        <div><strong>message</strong> {error.message}</div>\n        <div><strong>status</strong> {error.status}</div></div>)\n    }) : (\"\")\n    return (\n      <div>\n        <Menu />\n        {Error}\n        <div style={{ backgroundColor: \"black\", fontSize: \"15px\", color: \"green\" }}>\n          <MDBDataTableV5 className=\"table-responsive\" style={{ textAlign: \"left\", backgroundColor: \"black\", fontSize: \"20px\", color: \"white\" }} hover entriesOptions={[10, 20, 25]} entries={10} pagesAmount={4} data={this.state.datatable} searchTop searchBottom={false} />\n        </div>\n      </div>\n\n    )\n\n  }\n}\nexport default Items;"]},"metadata":{},"sourceType":"module"}