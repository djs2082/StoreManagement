{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/MERN/himalaya/src/components/home.component.js\";\nimport React, { Component } from 'react';\nimport { Link, NavLink, withRouter, Router } from 'react-router-dom';\nimport '../css/home.css';\nimport Menu from './menu.component';\nimport { Page, Text, View, Document, StyleSheet, PDFViewer } from '@react-pdf/renderer';\nimport ReactPDF from '@react-pdf/renderer';\nimport MyDocument from './pdf.component';\nimport ReactDOM from 'react-dom';\nimport Pdf from \"react-to-pdf\";\nimport axios from 'axios';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.get_pdf = e => {\n      e.preventDefault();\n      axios(\"http://127.0.0.1:8000/reciept/\", {\n        method: 'POST',\n        responseType: 'blob'\n      }).then(response => {\n        const file = new Blob([response.data], {\n          type: 'application/pdf'\n        });\n        const fileURL = URL.createObjectURL(file);\n        window.open(fileURL);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleChange = e => {\n      var data = e.target.value;\n      this.setState({\n        [e.target.name]: data\n      });\n    };\n\n    this.add_item = () => {\n      let item = {\n        \"id\": this.state.items.length + 1,\n        \"category\": '',\n        \"brand\": '',\n        \"quantity\": '',\n        \"price\": 0,\n        \"deleteable\": true\n      };\n      let items = [...this.state.items, item];\n      this.setState({\n        items: items\n      });\n    };\n\n    this.delete_item = e => {\n      let id = e.target.getAttribute('value');\n      let items = this.state.items.filter(item => {\n        return parseInt(item.id) !== parseInt(id);\n      });\n      this.setState({\n        items: items\n      });\n    };\n\n    this.getBrands = id => {\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get('http://127.0.0.1:8000/brands/get_brands/' + id + '/', {\n        headers: headers\n      }).then(response => {\n        console.log(response);\n        this.setState({\n          brands: response.data.Data\n        });\n      });\n    };\n\n    this.update_item = e => {\n      let name = e.target.name;\n      let id = e.target.getAttribute('id');\n      console.log(id);\n      console.log(name);\n\n      if (name === 'category') {\n        console.log(id);\n        console.log(name);\n        const selectedIndex = event.target.options.selectedIndex;\n        console.log(event.target.options[selectedIndex].getAttribute('data-key'));\n        this.getBrands(id);\n      }\n\n      const items = this.state.items.length ? this.state.items.map(item => {\n        if (item.id == id) {\n          item[name] = e.target.value;\n          return item;\n        } else {\n          return item;\n        }\n      }) : [];\n      this.setState({\n        items: items\n      });\n      console.log('caught');\n      this.setState({\n        total_amount: this.find_amount()\n      });\n    };\n\n    this.find_amount = () => {\n      var amount = 0;\n      this.state.items.forEach(item => {\n        let price = item.price;\n        let quantity = item.quantity;\n\n        if (price == '') {\n          price = 0;\n        }\n\n        if (quantity == '') {\n          quantity = 1;\n        }\n\n        amount = parseInt(amount) + parseInt(price) * parseInt(quantity);\n      });\n      this.calculate(amount);\n      return amount;\n    };\n\n    this.calculate = amount => {\n      let discount = this.state.discount_given;\n\n      if (discount == '') {\n        discount = 0;\n      }\n\n      let reduced = discount * amount / 100;\n      let payable = amount - reduced;\n      document.getElementById('amount').value = payable;\n    };\n\n    this.componentDidUpdate = () => {\n      this.find_amount();\n    };\n\n    this.componentDidMount = () => {\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get('http://127.0.0.1:8000/payments/', {\n        headers: headers\n      }).then(response => {\n        this.setState({\n          payment_options: response.data.Data\n        });\n      });\n      axios.get('http://127.0.0.1:8000/items/', {\n        headers: headers\n      }).then(response => {\n        console.log(response.data);\n        console.log(response.data.Data);\n        this.setState({\n          categories: response.data.Data\n        });\n      });\n      axios.get('http://127.0.0.1:8000/items/', {\n        headers: headers\n      }).then(response => {\n        console.log(response.data);\n        console.log(response.data.Data);\n        this.setState({\n          categories: response.data.Data\n        });\n      });\n    };\n\n    console.log(sessionStorage.getItem('token'));\n    console.log(sessionStorage.getItem('username'));\n\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      firstname: \"\",\n      lastname: \"\",\n      mobile: \"\",\n      items: [{\n        \"id\": 1,\n        \"category\": \"\",\n        \"brand\": \"\",\n        \"quantity\": \"\",\n        \"price\": 0,\n        \"deleteable\": false\n      }],\n      discount_given: 0,\n      total_amount: 0,\n      total_discount: 0,\n      amount_payable: 0,\n      payment_options: [],\n      categories: [],\n      brands: []\n    };\n  }\n\n  render() {\n    const payments = this.state.payment_options.length ? this.state.payment_options.map(option => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: option.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 16\n        }\n      }, option.name);\n    }) : \"\";\n    const categories = this.state.categories.length ? this.state.categories.map(category => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: category.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 20\n        }\n      }, category.name);\n    }) : \"\";\n    const brands = this.state.brands.length ? this.state.brands.map(brand => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: brand.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 24\n        }\n      }, brand.name);\n    }) : \"\";\n    console.log(categories);\n    const items = this.state.items.length ? this.state.items.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: item.id,\n        className: \"input-group form-group items-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input-group-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-shopping-cart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 36\n        }\n      }))), /*#__PURE__*/React.createElement(\"select\", {\n        onChange: this.update_item,\n        id: item.id,\n        type: \"text\",\n        value: item.category,\n        className: \"form-control item\",\n        name: \"category\",\n        placeholder: \"Item\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 1\n        }\n      }, categories), /*#__PURE__*/React.createElement(\"select\", {\n        onChange: this.update_item,\n        id: item.id,\n        type: \"text\",\n        value: item.brand,\n        className: \"form-control item\",\n        name: \"brand\",\n        placeholder: \"Brand\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 1\n        }\n      }, brands), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        onChange: this.update_item,\n        id: item.id,\n        type: \"number\",\n        value: item.quantity,\n        className: \"form-control item\",\n        min: \"1\",\n        name: \"quantity\",\n        placeholder: \"Quantity/Pairs\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        onChange: this.update_item,\n        id: item.id,\n        type: \"number\",\n        value: item.price,\n        className: \"form-control item\",\n        min: \"0\",\n        name: \"price\",\n        placeholder: \"Price\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 1\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-postpend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 1\n        }\n      }, item.deleteable ? /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        value: item.id,\n        onClick: this.delete_item,\n        className: \"fa fa-times-circle add-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 25\n        }\n      })) : /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.add_item,\n        id: \"add-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 124\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-plus-circle add-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 169\n        }\n      }))));\n    }) : \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 1\n      }\n    }, \"Generate Reciept\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"login_form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 36\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      value: this.state.firstname,\n      className: \"form-control\",\n      id: \"firstname\",\n      name: \"firstname\",\n      placeholder: \"First Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 1\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 36\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.lastname,\n      id: \"lastname\",\n      name: \"lastname\",\n      placeholder: \"Last Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 1\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 36\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"tel\",\n      value: this.state.mobile,\n      className: \"form-control\",\n      id: \"mobile\",\n      placeholder: \"Mobile Number\",\n      name: \"mobile\",\n      pattern: \"[0-9]{10}\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 1\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-credit-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 36\n      }\n    }))), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      value: this.state.payment,\n      name: \"payment\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 1\n      }\n    }, payments)), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"items-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 1\n      }\n    }, items, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 1\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group float-right price-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 36\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      readOnly: true,\n      id: \"amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 1\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group float-right price-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-percent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 36\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      onChange: this.handleChange,\n      name: \"discount_given\",\n      className: \"form-control\",\n      min: \"0\",\n      max: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 1\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      onClick: this.get_pdf,\n      value: \"Submit\",\n      className: \"btn-lg login_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 1\n      }\n    })))))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalaya/src/components/home.component.js"],"names":["React","Component","Link","NavLink","withRouter","Router","Menu","Page","Text","View","Document","StyleSheet","PDFViewer","ReactPDF","MyDocument","ReactDOM","Pdf","axios","Home","constructor","props","get_pdf","e","preventDefault","method","responseType","then","response","file","Blob","data","type","fileURL","URL","createObjectURL","window","open","catch","error","console","log","handleChange","target","value","setState","name","add_item","item","state","items","length","delete_item","id","getAttribute","filter","parseInt","getBrands","headers","sessionStorage","getItem","get","brands","Data","update_item","selectedIndex","event","options","map","total_amount","find_amount","amount","forEach","price","quantity","calculate","discount","discount_given","reduced","payable","document","getElementById","componentDidUpdate","componentDidMount","payment_options","categories","history","push","firstname","lastname","mobile","total_discount","amount_payable","render","payments","option","category","brand","deleteable","payment"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { Link, NavLink, withRouter, Router } from 'react-router-dom';\nimport '../css/home.css';\nimport Menu from './menu.component'\nimport { Page, Text, View, Document, StyleSheet, PDFViewer } from '@react-pdf/renderer';\nimport ReactPDF from '@react-pdf/renderer';\nimport MyDocument from './pdf.component';\nimport ReactDOM from 'react-dom';\nimport Pdf from \"react-to-pdf\";\nimport axios from 'axios';\n\nclass Home extends Component\n{\n\nconstructor(props)\n{\nsuper(props)\nconsole.log(sessionStorage.getItem('token'))\nconsole.log(sessionStorage.getItem('username'))\nif(sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined')\n{\nthis.props.history.push('/')\n}\nthis.state={\nfirstname:\"\",\nlastname:\"\",\nmobile:\"\",\nitems:[\n{\n\"id\":1,\n\"category\":\"\",\n\"brand\":\"\",\n\"quantity\":\"\",\n\"price\":0,\n\"deleteable\":false\n}\n],\ndiscount_given:0,\ntotal_amount:0,\ntotal_discount:0,\namount_payable:0,\npayment_options:[],\ncategories:[],\nbrands:[]\n}\n}\n\nget_pdf=(e)=> {\ne.preventDefault();\naxios(\"http://127.0.0.1:8000/reciept/\", {\nmethod: 'POST',\nresponseType: 'blob'\n})\n.then(response => {\nconst file = new Blob(\n[response.data], \n{type: 'application/pdf'});\nconst fileURL = URL.createObjectURL(file);\nwindow.open(fileURL);\n})\n.catch(error => {\nconsole.log(error);\n});\n}\n\n\nhandleChange=(e)=>{\nvar data=e.target.value;\nthis.setState({\n[e.target.name]:data\n})\n}\n\n\n\n\nadd_item=()=>{\nlet item={\n\"id\":this.state.items.length+1,\n\"category\":'',\n\"brand\":'',\n\"quantity\":'',\n\"price\":0,\n\"deleteable\":true,\n}\nlet items=[...this.state.items,item];\nthis.setState({\nitems: items\n});\n};\n\ndelete_item=(e)=>{\nlet id=e.target.getAttribute('value');\nlet items=this.state.items.filter(item=>{\nreturn parseInt(item.id)!==parseInt(id);\n})\nthis.setState({\nitems: items\n})\n}\n\n\ngetBrands=(id)=>{\n    const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n      axios.get('http://127.0.0.1:8000/brands/get_brands/'+id+'/',{\n        headers: headers\n      })\n      .then(response =>{\n          console.log(response)\n          this.setState({brands:response.data.Data})\n      })\n}\n\n\nupdate_item=(e)=>{\nlet name=e.target.name\nlet id=e.target.getAttribute('id');\nconsole.log(id);\nconsole.log(name);\nif(name === 'category')\n{\n    console.log(id);\n    console.log(name);\n    const selectedIndex = event.target.options.selectedIndex;\n    console.log(event.target.options[selectedIndex].getAttribute('data-key'));\n\n\n    this.getBrands(id);\n}\nconst items=this.state.items.length?(this.state.items.map(item=>{ \nif(item.id == id)\n{\n\nitem[name]=e.target.value;\n\nreturn(item);\n}\nelse\n{\nreturn(item);\n}\n})):([])\nthis.setState({\nitems:items\n})\n\n\nconsole.log('caught');\nthis.setState({\ntotal_amount:this.find_amount()\n})\n}\n\nfind_amount=()=>{\nvar amount=0;\nthis.state.items.forEach((item)=>{\n    let price=item.price\n    let quantity=item.quantity\nif(price == '')\n{\n    price=0;\n}\nif(quantity == '')\n{\n    quantity=1;\n}\namount =parseInt(amount)+parseInt(price)*parseInt(quantity)\n});\nthis.calculate(amount);\nreturn amount;\n}\n\ncalculate=(amount)=>{\nlet discount=this.state.discount_given;\nif(discount == '')\n{\n    discount=0;\n}\nlet reduced=(discount*amount/100)\nlet payable=amount-reduced;\ndocument.getElementById('amount').value=payable;\n}\ncomponentDidUpdate=()=>{\n    this.find_amount();\n}\ncomponentDidMount=()=>{\n    const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n      axios.get('http://127.0.0.1:8000/payments/',{\n        headers: headers\n      })\n      .then(response =>{\n          this.setState({payment_options:response.data.Data})\n      })\n      \n      axios.get('http://127.0.0.1:8000/items/',{\n        headers: headers\n      })\n      .then(response =>{\n          console.log(response.data)\n          console.log(response.data.Data)\n          this.setState({categories:response.data.Data})\n      })\n\n      axios.get('http://127.0.0.1:8000/items/',{\n        headers: headers\n      })\n      .then(response =>{\n          console.log(response.data)\n          console.log(response.data.Data)\n          this.setState({categories:response.data.Data})\n      })\n      \n}\nrender()\n{\n    const payments=this.state.payment_options.length?(this.state.payment_options.map(option =>{\n        return(<option key={option.id}>{option.name}</option>)\n        })):(\"\");\n        \n        const categories=this.state.categories.length?(this.state.categories.map(category =>{\n            return(<option key={category.id}>{category.name}</option>)\n            })):(\"\");\n\n        const brands=this.state.brands.length?(this.state.brands.map(brand =>{\n                return(<option key={brand.id}>{brand.name}</option>)\n                })):(\"\");\n\n        console.log(categories)\n\n\nconst items=this.state.items.length?(this.state.items.map( item => { return (\n<div key={item.id} className=\"input-group form-group items-list\">\n<div className=\"input-group-prepend\">\n<span className=\"input-group-text\"><i className=\"fa fa-shopping-cart\"></i></span>\n</div>\n<select onChange={this.update_item} id={item.id} type=\"text\" value={item.category} className=\"form-control item\" name=\"category\" placeholder=\"Item\" required>{categories}</select>\n<select onChange={this.update_item} id={item.id} type=\"text\" value={item.brand} className=\"form-control item\" name=\"brand\" placeholder=\"Brand\" required>{brands}</select>\n<input autoComplete=\"off\" onChange={this.update_item} id={item.id} type=\"number\" value={item.quantity} className=\"form-control item\" min=\"1\" name=\"quantity\" placeholder=\"Quantity/Pairs\" required/>\n<input autoComplete=\"off\" onChange={this.update_item} id={item.id} type=\"number\" value={item.price} className=\"form-control item\" min=\"0\" name=\"price\" placeholder=\"Price\" required/>\n<div className=\"input-group-postpend\">\n{item.deleteable?(<span><i value={item.id} onClick={this.delete_item} className=\"fa fa-times-circle add-btn\"></i></span>):(<span onClick={this.add_item} id=\"add-item\" ><i className=\"fa fa-plus-circle add-btn\"></i></span>)}\n</div>\n</div>\n)})):(\"\");   \n\n\n\nreturn(\n\n<div className=\"container\">\n\n<Menu></Menu>\n\n<div className=\"d-flex justify-content-center h-100\">\n<div className=\"card float-left\">\n\n<div className=\"card-header\">\n<h3>Generate Reciept</h3>\n</div>\n\n<div className=\"card-body\">\n<form id=\"login_form\">\n\n<div className=\"input-group form-group\">\n<div className=\"input-group-prepend\">\n<span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n</div>\n<input onChange={this.handleChange} type=\"text\" value={this.state.firstname} className=\"form-control\" id=\"firstname\" name=\"firstname\" placeholder=\"First Name\" required/>\t\n</div>\n\n<div className=\"input-group form-group\">\n<div className=\"input-group-prepend\">\n<span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n</div>\n<input onChange={this.handleChange} type=\"text\" className=\"form-control\" value={this.state.lastname} id=\"lastname\" name=\"lastname\" placeholder=\"Last Name\" required/>\n</div>\n\n<div className=\"input-group form-group\">\n<div className=\"input-group-prepend\">\n<span className=\"input-group-text\"><i className=\"fa fa-mobile\"></i></span>\n</div>\n<input onChange={this.handleChange} type=\"tel\" value={this.state.mobile} className=\"form-control\" id=\"mobile\" placeholder=\"Mobile Number\" name=\"mobile\" pattern=\"[0-9]{10}\"required/>\n</div>\n\n<div className=\"input-group form-group\">\n<div className=\"input-group-prepend\">\n<span className=\"input-group-text\"><i className=\"fa fa-credit-card\"></i></span>\n</div>\n<select onChange={this.handleChange} value={this.state.payment} name=\"payment\" className=\"form-control\">\n{payments}\n</select>\n</div>\n\n<div id=\"items-cart\">\n{items}\n<div>\n\n</div>\n</div>\n\n<div className=\"input-group form-group float-right price-tag\">\n<div className=\"input-group-prepend\">\n<span className=\"input-group-text\"><i className=\"fa fa-rupee\"></i></span>\n</div>\n<input type=\"text\" className=\"form-control\" readOnly  id=\"amount\"/>\n</div>\n\n<div className=\"input-group form-group float-right price-tag\">\n<div className=\"input-group-prepend\">\n<span className=\"input-group-text\"><i className=\"fa fa-percent\"></i></span>\n</div>\n<input type=\"number\" onChange={this.handleChange} name=\"discount_given\" className=\"form-control\" min=\"0\" max=\"100\"/>\n</div>\n\n<div className=\"form-group\">\n<input type=\"submit\" onClick={this.get_pdf} value=\"Submit\" className=\"btn-lg login_btn\"/>\n</div>\n\n</form>\n{/* <datalist id=\"items\">\n{categories}\n</datalist> */}\n</div>\n</div>\n</div>\n</div>\n)\n}\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}