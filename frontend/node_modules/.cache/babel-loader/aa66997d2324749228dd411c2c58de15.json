{"ast":null,"code":"import _classCallCheck from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{MDBDataTableV5}from'mdbreact';import Menu from'./menu.component';import axios from'axios';var Items=/*#__PURE__*/function(_Component){_inherits(Items,_Component);var _super=_createSuper(Items);function Items(props){var _this;_classCallCheck(this,Items);_this=_super.call(this,props);_this.errorOccured=function(status,err,message){var error={\"id\":_this.state.errors.length+1,\"status\":status,\"error\":err,\"message\":message};var errors=_this.state.errors;errors.push(error);_this.setState(errors);};_this.deleteError=function(e){var key=e.currentTarget.parentNode.getAttribute(\"data-key\");var errors=_this.state.errors.filter(function(error){return parseInt(error.id)!==parseInt(key);});_this.setState({errors:errors});};_this.componentDidMount=function(){var headers={'Authorization':'Token '+sessionStorage.getItem('token')};axios.get('https://shield.pythonanywhere.com/brands/',{headers:headers}).then(function(response){if(response.status==200){if(response.data.status==404){_this.errorOccured(404,response.data.error.error,\"Error\");}else if(response.data.status==200){var items=response.data.Data.map(function(item){return{'item':item.item.name,'name':item.name,'quantity':item.quantity,'cost_price':item.cost_price,'intitial_discount':item.initial_discount,'actual_cost_price':item.actual_cost_price,'gst':item.gst,'transport_charge':item.transport_charge};});var columns=_this.state.datatable.columns;var datatable={columns:columns,rows:items};_this.setState({datatable:datatable});}else{_this.errorOccured(response.data.status,response.error.error,\"Unknown Error Occurred\");}}else{_this.errorOccured(500,\"erro occurred\",\"Unknown error occurred\");}}).catch(function(error){_this.errorOccured(500,\"error occurred\",error.message);});};if(sessionStorage.getItem('token')==='undefined'||sessionStorage.getItem('username')==='undefined'){_this.props.history.push('/');}_this.state={datatable:{columns:[{label:'Item',field:'item',width:150},{label:'BrandName',field:'name',width:270},{label:'Quantity',field:'quantity',width:200},{label:'Price',field:'cost_price',width:200},{label:'Discount',field:'intitial_discount',width:200},{label:'Payable',field:'actual_cost_price',width:200},{label:'GST',field:'gst',width:200},{label:'Transport Charge',field:'transport_charge',width:200}],rows:[]},errors:[]};return _this;}_createClass(Items,[{key:\"render\",value:function render(){var _this2=this;var Error=this.state.errors.length?this.state.errors.map(function(error){return/*#__PURE__*/React.createElement(\"div\",{\"data-key\":error.id,className:\"alert alert-danger alert-dismissible override\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:_this2.deleteError,class:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"close\"},\"\\xD7\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"error!\"),\" \",error.error),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"message\"),\" \",error.message),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"status\"),\" \",error.status));}):\"\";return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Menu,null),Error,/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"black\",fontSize:\"15px\",color:\"green\"}},/*#__PURE__*/React.createElement(MDBDataTableV5,{className:\"table-responsive\",style:{textAlign:\"left\",backgroundColor:\"black\",fontSize:\"20px\",color:\"white\"},hover:true,entriesOptions:[10,20,25],entries:10,pagesAmount:4,data:this.state.datatable,searchTop:true,searchBottom:false})));}}]);return Items;}(Component);export default Items;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayadonelocal2/src/components/items.component.js"],"names":["React","Component","MDBDataTableV5","Menu","axios","Items","props","errorOccured","status","err","message","error","state","errors","length","push","setState","deleteError","e","key","currentTarget","parentNode","getAttribute","filter","parseInt","id","componentDidMount","headers","sessionStorage","getItem","get","then","response","data","items","Data","map","item","name","quantity","cost_price","initial_discount","actual_cost_price","gst","transport_charge","columns","datatable","rows","catch","history","label","field","width","Error","backgroundColor","fontSize","color","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component'\nimport axios from 'axios';\n\nclass Items extends Component {\n  constructor(props) {\n    super(props);\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/')\n    }\n    this.state = {\n      datatable: {\n        columns: [\n          {\n            label: 'Item',\n            field: 'item',\n            width: 150,\n          },\n          {\n            label: 'BrandName',\n            field: 'name',\n            width: 270,\n          },\n          {\n            label: 'Quantity',\n            field: 'quantity',\n            width: 200,\n          },\n          {\n            label: 'Price',\n            field: 'cost_price',\n            width: 200,\n          },\n          {\n            label: 'Discount',\n            field: 'intitial_discount',\n            width: 200,\n          },\n          {\n            label: 'Payable',\n            field: 'actual_cost_price',\n            width: 200,\n          },\n          {\n            label: 'GST',\n            field: 'gst',\n            width: 200,\n          },\n          {\n            label: 'Transport Charge',\n            field: 'transport_charge',\n            width: 200,\n          }\n        ],\n        rows: [],\n      },\n      errors: []\n    }\n\n  }\n  errorOccured = (status, err, message) => {\n    let error = { \"id\": this.state.errors.length + 1, \"status\": status, \"error\": err, \"message\": message }\n    let errors = this.state.errors\n    errors.push(error)\n    this.setState(errors)\n  }\n\n  deleteError = (e) => {\n    let key = e.currentTarget.parentNode.getAttribute(\"data-key\");\n    let errors = this.state.errors.filter(error => {\n      return parseInt(error.id) !== parseInt(key);\n    })\n    this.setState({ errors: errors })\n  }\n\n  componentDidMount = () => {\n    const headers = {\n      'Authorization': 'Token ' + sessionStorage.getItem('token')\n    }\n    axios.get('https://shield.pythonanywhere.com/brands/', {\n      headers: headers\n    })\n      .then(response => {\n        if (response.status == 200) {\n\n          if (response.data.status == 404) {\n            this.errorOccured(404, response.data.error.error, \"Error\")\n          }\n\n          else if (response.data.status == 200) {\n            var items = response.data.Data.map(item => {\n              return ({ 'item': item.item.name, 'name': item.name, 'quantity': item.quantity, 'cost_price': item.cost_price, 'intitial_discount': item.initial_discount, 'actual_cost_price': item.actual_cost_price, 'gst': item.gst, 'transport_charge': item.transport_charge })\n            })\n            let columns = this.state.datatable.columns\n            let datatable = { columns: columns, rows: items }\n            this.setState({ datatable: datatable })\n\n\n          }\n          else {\n\n            this.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\")\n          }\n        }\n        else {\n\n          this.errorOccured(500, \"erro occurred\", \"Unknown error occurred\")\n\n        }\n      })\n      .catch(error => {\n\n        this.errorOccured(500, \"error occurred\", error.message)\n      });\n  }\n\n  render() {\n    var Error = this.state.errors.length ? this.state.errors.map(error => {\n      return (<div data-key={error.id} className='alert alert-danger alert-dismissible override'>\n        <a href=\"#\" onClick={this.deleteError} class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a>\n        <div><strong>error!</strong> {error.error}</div>\n        <div><strong>message</strong> {error.message}</div>\n        <div><strong>status</strong> {error.status}</div></div>)\n    }) : (\"\")\n    return (\n      <div>\n        <Menu />\n        {Error}\n        <div style={{ backgroundColor: \"black\", fontSize: \"15px\", color: \"green\" }}>\n          <MDBDataTableV5 className=\"table-responsive\" style={{ textAlign: \"left\", backgroundColor: \"black\", fontSize: \"20px\", color: \"white\" }} hover entriesOptions={[10, 20, 25]} entries={10} pagesAmount={4} data={this.state.datatable} searchTop searchBottom={false} />\n        </div>\n      </div>\n\n    )\n\n  }\n}\nexport default Items;"]},"metadata":{},"sourceType":"module"}