{"ast":null,"code":"import _classCallCheck from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dilip/Desktop/MERN/himalayadonelocal2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Chart from\"react-google-charts\";import Menu from'./menu.component';import axios from'axios';var Graph=/*#__PURE__*/function(_Component){_inherits(Graph,_Component);var _super=_createSuper(Graph);function Graph(props){var _this;_classCallCheck(this,Graph);_this=_super.call(this,props);_this.errorOccured=function(status,err,message){var error={\"id\":_this.state.errors.length+1,\"status\":status,\"error\":err,\"message\":message};var errors=_this.state.errors;errors.push(error);_this.setState(errors);};_this.deleteError=function(e){var key=e.currentTarget.parentNode.getAttribute(\"data-key\");var errors=_this.state.errors.filter(function(error){return parseInt(error.id)!==parseInt(key);});_this.setState({errors:errors});};_this.componentDidMount=function(){var headers={'Authorization':'Token '+sessionStorage.getItem('token')};axios.get('https://shield.pythonanywhere.com/receipts/sales_for_graph/',{headers:headers}).then(function(response){if(response.status==200){if(response.data.status==404){_this.errorOccured(404,response.data.error.error,\"Error\");}else if(response.data.status==200){var data=[];if(response.data.status!=404){data.push(_this.state.data);response.data.Data.date_wise_payment_list.map(function(sell){var temp=[];temp.push(sell.date);temp.push(sell.amount);data.push(temp);});}_this.setState({graph_data:data});}else{_this.errorOccured(response.data.status,response.error.error,\"Unknown Error Occurred\");}}else{_this.errorOccured(500,\"erro occurred\",\"Unknown error occurred\");}}).catch(function(error){_this.errorOccured(500,\"error occurred\",error.message);});};if(sessionStorage.getItem('token')==='undefined'||sessionStorage.getItem('username')==='undefined'){_this.props.history.push('/');}_this.state={data:['Sale',''],errors:[]};return _this;}_createClass(Graph,[{key:\"render\",value:function render(){var _this2=this;var Error=this.state.errors.length?this.state.errors.map(function(error){return/*#__PURE__*/React.createElement(\"div\",{\"data-key\":error.id,className:\"alert alert-danger alert-dismissible override\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:_this2.deleteError,class:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"close\"},\"\\xD7\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"error!\"),\" \",error.error),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"message\"),\" \",error.message),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"status\"),\" \",error.status));}):\"\";return/*#__PURE__*/React.createElement(\"div\",null,Error,/*#__PURE__*/React.createElement(Menu,null),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',maxWidth:900}},/*#__PURE__*/React.createElement(Chart,{width:1400,height:1300,chartType:\"ColumnChart\",loader:/*#__PURE__*/React.createElement(\"h1\",{style:{color:\"black\"}},\"...Loading Chart\"),data:this.state.graph_data,options:{title:'Sales of This Month',chartArea:{maxWidth:'75%',maHeight:'75%',backgroundColor:\"black\"},hAxis:{title:'Date'},vAxis:{title:'Sale'}},legendToggle:true})));}}]);return Graph;}(Component);export default Graph;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayadonelocal2/src/components/statistics.component.js"],"names":["React","Component","Chart","Menu","axios","Graph","props","errorOccured","status","err","message","error","state","errors","length","push","setState","deleteError","e","key","currentTarget","parentNode","getAttribute","filter","parseInt","id","componentDidMount","headers","sessionStorage","getItem","get","then","response","data","Data","date_wise_payment_list","map","sell","temp","date","amount","graph_data","catch","history","Error","display","maxWidth","color","title","chartArea","maHeight","backgroundColor","hAxis","vAxis"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Chart from \"react-google-charts\";\nimport Menu from './menu.component';\nimport axios from 'axios';\n\nclass Graph extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tif (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n\t\t\tthis.props.history.push('/')\n\t\t}\n\t\tthis.state = {\n\t\t\tdata: ['Sale', ''],\n\t\t\terrors: []\n\t\t}\n\t}\n\terrorOccured = (status, err, message) => {\n\t\tlet error = { \"id\": this.state.errors.length + 1, \"status\": status, \"error\": err, \"message\": message }\n\t\tlet errors = this.state.errors\n\t\terrors.push(error)\n\n\t\tthis.setState(errors)\n\t}\n\n\tdeleteError = (e) => {\n\t\tlet key = e.currentTarget.parentNode.getAttribute(\"data-key\");\n\n\t\tlet errors = this.state.errors.filter(error => {\n\t\t\treturn parseInt(error.id) !== parseInt(key);\n\t\t})\n\t\tthis.setState({ errors: errors })\n\t}\n\tcomponentDidMount = () => {\n\t\tvar headers = {\n\t\t\t'Authorization': 'Token ' + sessionStorage.getItem('token')\n\t\t}\n\t\taxios.get('https://shield.pythonanywhere.com/receipts/sales_for_graph/', {\n\t\t\theaders: headers\n\t\t})\n\t\t\t.then(response => {\n\n\t\t\t\tif (response.status == 200) {\n\n\t\t\t\t\tif (response.data.status == 404) {\n\t\t\t\t\t\tthis.errorOccured(404, response.data.error.error, \"Error\")\n\t\t\t\t\t}\n\n\t\t\t\t\telse if (response.data.status == 200) {\n\t\t\t\t\t\tvar data = []\n\t\t\t\t\t\tif (response.data.status != 404) {\n\t\t\t\t\t\t\tdata.push(this.state.data)\n\n\t\t\t\t\t\t\tresponse.data.Data.date_wise_payment_list.map(sell => {\n\t\t\t\t\t\t\t\tlet temp = []\n\t\t\t\t\t\t\t\ttemp.push(sell.date)\n\t\t\t\t\t\t\t\ttemp.push(sell.amount)\n\t\t\t\t\t\t\t\tdata.push(temp)\n\n\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ graph_data: data })\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\n\t\t\t\t\t\tthis.errorOccured(response.data.status, response.error.error, \"Unknown Error Occurred\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\n\t\t\t\t\tthis.errorOccured(500, \"erro occurred\", \"Unknown error occurred\")\n\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\n\t\t\t\tthis.errorOccured(500, \"error occurred\", error.message)\n\t\t\t});\n\n\t}\n\trender() {\n\t\tvar Error = this.state.errors.length ? this.state.errors.map(error => {\n\t\t\treturn (<div data-key={error.id} className='alert alert-danger alert-dismissible override'>\n\t\t\t\t<a href=\"#\" onClick={this.deleteError} class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a>\n\t\t\t\t<div><strong>error!</strong> {error.error}</div>\n\t\t\t\t<div><strong>message</strong> {error.message}</div>\n\t\t\t\t<div><strong>status</strong> {error.status}</div></div>)\n\t\t}) : (\"\")\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{Error}\n\t\t\t\t<Menu></Menu>\n\t\t\t\t<div style={{ display: 'flex', maxWidth: 900 }}>\n\t\t\t\t\t<Chart\n\t\t\t\t\t\twidth={1400}\n\t\t\t\t\t\theight={1300}\n\t\t\t\t\t\tchartType=\"ColumnChart\"\n\t\t\t\t\t\tloader={<h1 style={{ color: \"black\" }}>...Loading Chart</h1>}\n\t\t\t\t\t\tdata={this.state.graph_data}\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\ttitle: 'Sales of This Month',\n\t\t\t\t\t\t\tchartArea: { maxWidth: '75%', maHeight: '75%', backgroundColor: \"black\" },\n\t\t\t\t\t\t\thAxis: {\n\t\t\t\t\t\t\t\ttitle: 'Date',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvAxis: {\n\t\t\t\t\t\t\t\ttitle: 'Sale',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlegendToggle\n\t\t\t\t\t/>\n\n\t\t\t\t</div></div>)\n\t}\n}\nexport default Graph;"]},"metadata":{},"sourceType":"module"}