{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/MERN/himalayadone/src/components/home.component.js\";\nimport React, { Component } from 'react';\nimport '../css/home.css';\nimport Menu from './menu.component';\nimport axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.get_pdf = e => {\n      e.preventDefault();\n      var data = this.state;\n      this.state.payment_options.map(option => {\n        if (option.name === data.payment_method) {\n          data.payment_method = option.id;\n        }\n      });\n      let date = this.state.birth_day;\n      data.birth_day = this.formatDate(date);\n      data.items.map(item => {\n        data.categories.map(category => {\n          if (item.item === category.name) {\n            item.item = category.id;\n            category.brands.map(brand => {\n              if (brand.name === item.brand) {\n                item.brand = brand.id;\n              }\n            });\n          }\n        });\n      }); // console.log(data);\n\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.post('https://shield.pythonanywhere.com/receipts/', data, {\n        headers: headers\n      }).then(response => {\n        // console.log(response)\n        window.open(\"https://shield.pythonanywhere.com\" + response.data.Data.receipt_link);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleChange = e => {\n      var data = e.target.value;\n      var money = this.find_sum();\n      this.setState({\n        [e.target.name]: data\n      }, () => {\n        let money = this.find_sum();\n        this.setState({\n          total_amount: money[0],\n          amount_payable: money[2],\n          total_discount: money[1]\n        });\n      });\n    };\n\n    this.formatDate = date => {\n      var d = new Date(date),\n          month = '' + (d.getMonth() + 1),\n          day = '' + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = '0' + month;\n      if (day.length < 2) day = '0' + day;\n      return [year, month, day].join('-');\n    };\n\n    this.onChange = birth_day => {\n      this.setState({\n        birth_day: birth_day\n      });\n    };\n\n    this.add_item = () => {\n      let item = {\n        \"id\": this.state.items.length + 1,\n        \"item\": \"\",\n        \"brand\": \"\",\n        \"size\": \"\",\n        \"quantity\": 0,\n        \"selling_price\": 0,\n        \"deleteable\": true\n      };\n      let items = [...this.state.items, item];\n      this.setState({\n        items: items\n      });\n    };\n\n    this.delete_item = e => {\n      let key = e.currentTarget.parentNode.parentNode.getAttribute(\"data-key\"); // console.log(key)\n\n      let items = this.state.items.filter(item => {\n        return parseInt(item.id) !== parseInt(key);\n      });\n      this.setState({\n        items: items\n      }, () => {\n        let money = this.find_sum();\n        this.setState({\n          total_amount: money[0],\n          amount_payable: money[2],\n          total_discount: money[1]\n        });\n      });\n    };\n\n    this.update_item = e => {\n      let key = e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\"data-key\"); //    console.log(key)\n\n      let name = e.currentTarget.getAttribute(\"name\");\n      let value = e.currentTarget.value;\n      let price = 0;\n      let quantity = 0;\n\n      if (value === \"\") {\n        console.log(name);\n        console.log(value);\n\n        if (name != \"size\") {\n          return;\n        }\n      }\n\n      const items = this.state.items.length ? this.state.items.map(item => {\n        if (parseInt(item.id) === parseInt(key)) {\n          item[name] = value;\n        }\n\n        return item;\n      }) : [];\n      let money = this.find_sum();\n      this.setState({\n        total_amount: money[0],\n        amount_payable: money[2],\n        total_discount: money[1]\n      });\n    };\n\n    this.getBrands = id => {\n      const brands = this.state.categories.filter(category => {\n        return parseInt(category.id) == parseInt(id);\n      });\n      return brands[0].brands;\n    };\n\n    this.find_sum = (quantity, value) => {\n      var money = new Array(3).fill(0);\n      var discount = parseInt(this.state.discount_given ? this.state.discount_given : 0);\n      this.state.items.forEach(item => {\n        let price = parseInt(item.selling_price);\n        let quantity = parseInt(item.quantity);\n        money[0] = parseInt(money[0]) + parseInt(price) * parseInt(quantity);\n      });\n      money[1] = Math.round(discount * money[0] / 100.0);\n      money[2] = money[0] - money[1];\n      return money;\n    };\n\n    this.calculate = amount => {\n      let discount = this.state.discount_given;\n\n      if (discount == '') {\n        discount = 0;\n      }\n\n      let reduced = discount * amount / 100;\n      let payable = amount - reduced;\n      document.getElementById('amount').value = payable;\n    };\n\n    let _date = new Date();\n\n    console.log(_date.getFullYear() + '-' + _date.getMonth() + 1 + '-' + _date.getDate());\n\n    if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n      this.props.history.push('/');\n    }\n\n    this.state = {\n      fname: \"\",\n      lname: \"\",\n      mobile: \"\",\n      payment_method: \"\",\n      birth_day: new Date(),\n      items: [{\n        \"id\": 1,\n        \"item\": \"\",\n        \"brand\": \"\",\n        \"size\": \"\",\n        \"quantity\": 0,\n        \"selling_price\": 0,\n        \"deleteable\": false\n      }],\n      discount_given: 0,\n      total_amount: 0,\n      total_discount: 0,\n      amount_payable: 0,\n      payment_options: [],\n      categories: [],\n      sizes: [],\n      errors: [{\n        status: 200,\n        error: \"error\",\n        message: \"error message\"\n      }, {\n        status: 200,\n        error: \"error\",\n        message: \"error message\"\n      }]\n    };\n    const _headers = {\n      'Authorization': 'Token ' + sessionStorage.getItem('token')\n    };\n    axios.get('https://shield.pythonanywhere.com/payments/', {\n      headers: _headers\n    }).then(response => {\n      console.log(response);\n      var errors = [];\n\n      if (response.data.status != 404) {\n        this.setState({\n          payment_options: response.data.Data\n        }); // console.log(this.state)\n      }\n    }).catch(err => {\n      let error = {\n        \"status\": \"\",\n        \"error\": err,\n        \"message\": \"Unknown error occured while getting payment options\"\n      };\n      let errors = [...this.state.errors, error];\n      this.setState({\n        errors: errors\n      });\n    });\n    axios.get('https://shield.pythonanywhere.com/items/itemsBrand/', {\n      headers: _headers\n    }).then(response => {\n      // console.log(response)\n      if (response.data.status != 404) {\n        let categories = response.data.Data;\n        this.setState({\n          categories: [{\n            'id': -1,\n            'name': \"none\",\n            \"brands\": []\n          }, ...categories.slice(0)]\n        });\n      }\n    }).catch(err => {\n      let error = {\n        \"status\": \"\",\n        \"error\": err,\n        \"message\": \"Unknown error occured while fetching Items and Brands options\"\n      };\n      let errors = [...this.state.errors, error];\n      this.setState({\n        errors: errors\n      });\n    });\n    axios.get('https://shield.pythonanywhere.com/sizes/', {\n      headers: _headers\n    }).then(response => {\n      this.setState({\n        sizes: response.data.Data\n      });\n    });\n\n    let _money = this.find_sum();\n\n    this.setState({\n      total_amount: _money[0],\n      amount_payable: _money[2],\n      total_discount: _money[1]\n    });\n\n    const _items = this.state.items.length ? this.state.items.map(item => {\n      let brands = this.state.categories.filter(category => {\n        if (item.item == category.name) {\n          return category;\n        }\n      });\n    }) : \"\";\n  }\n\n  render() {\n    // const errors= this.state.errors.length?(this.state.errors.map(error=>{\n    //     return(<div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\n    //     <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n    //       <span aria-hidden=\"true\">&times;</span>\n    //     </button>\n    //     <strong>Holy guacamole!</strong> You should check in on some of those fields below.\n    //   </div>)\n    // })) :(\"\")\n    const payments = this.state.payment_options.length ? this.state.payment_options.map(option => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: option.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 17\n        }\n      }, option.name);\n    }) : \"\"; // console.log(payments)\n\n    const categories = this.state.categories.length ? this.state.categories.map(category => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: category.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }\n      }, category.name);\n    }) : \"\";\n    const sizes = this.state.sizes.length ? this.state.sizes.map(size => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: size.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 17\n        }\n      }, size.name);\n    }) : \" \";\n    const items = this.state.items.length ? this.state.items.map(item => {\n      const temp = this.state.categories.filter(category => {\n        if (item.item == category.name) {\n          return category;\n        }\n      });\n      let brands = \"\";\n\n      try {\n        brands = temp[0].brands.length ? temp[0].brands.map(brand => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            key: brand.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 25\n            }\n          }, brand.name);\n        }) : \" \";\n      } catch (e) {\n        console.log(e);\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        \"data-key\": item.id,\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        onChange: this.update_item,\n        type: \"text\",\n        value: item.item,\n        className: \"form-control item\",\n        name: \"item\",\n        placeholder: \"Item\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 42\n        }\n      }, categories))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        onChange: this.update_item,\n        type: \"text\",\n        value: item.brand,\n        className: \"form-control item\",\n        name: \"brand\",\n        placeholder: \"Brand\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 42\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 181\n        }\n      }, \"None\"), brands))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onChange: this.update_item,\n        type: \"text\",\n        value: item.size,\n        className: \"form-control item\",\n        name: \"size\",\n        placeholder: \"Size\",\n        list: \"sizes\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 42\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        onChange: this.update_item,\n        type: \"number\",\n        value: item.quantity,\n        className: \"form-control item\",\n        min: \"1\",\n        name: \"quantity\",\n        placeholder: \"Quantity/Pairs\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 42\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"off\",\n        onChange: this.update_item,\n        type: \"number\",\n        value: item.selling_price,\n        className: \"form-control item \",\n        min: \"0\",\n        name: \"selling_price\",\n        placeholder: \"Price\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 42\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-postpend column\",\n        style: {\n          width: \"10%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }\n      }, item.deleteable ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.delete_item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-times-circle add-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 83\n        }\n      })) : /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.add_item,\n        id: \"add-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 141\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-plus-circle add-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 186\n        }\n      })))); // <Container>\n      // <div data-key={item.id} className=\"input-group form-group row item-list\">\n      // <Row>\n      //     <div style={{width:\"10%\"}} className=\"input-group-prepend column\">\n      //         <span className=\"input-group-text\"><i className=\"fa fa-shopping-cart\"></i></span>\n      //     </div>\n      //      <Col lg=\"2\"><div className=\"column\" style={{width:\"15%\"}}><select onChange={this.update_item} type=\"text\" value={item.item} className=\"form-control item\" name=\"item\" placeholder=\"Item\" required>{categories}</select></div></Col>\n      //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><select onChange={this.update_item} type=\"text\" value={item.brand} className=\"form-control item\" name=\"brand\" placeholder=\"Brand\" required><option>None</option>{brands}</select></div></Col>\n      //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><input onChange={this.update_item}  type=\"text\" value={item.size} className=\"form-control item\" name=\"size\" placeholder=\"Size\" list=\"sizes\"></input></div></Col>\n      //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.quantity} className=\"form-control item\" min=\"1\" name=\"quantity\" placeholder=\"Quantity/Pairs\" required /></div></Col>\n      //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.selling_price} className=\"form-control item \" min=\"0\" name=\"selling_price\" placeholder=\"Price\" required /></div></Col>\n      //     <div className=\"input-group-postpend column\" style={{width:\"10%\"}}>\n      //         {item.deleteable ? (<span onClick={this.delete_item} ><i className=\"fa fa-times-circle add-btn\"></i></span>) : (<span onClick={this.add_item} id=\"add-item\" ><i className=\"fa fa-plus-circle add-btn\"></i></span>)}\n      //     </div>\n      //      </Row>\n      // </div>\n      // </Container>)\n    }) : \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"75%\"\n      },\n      className: \"card float-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 25\n      }\n    }, \"Generate Reciept\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 col-sm-offset-4 card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.get_pdf,\n      id: \"login_form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      value: this.state.fname,\n      className: \"form-control input-sm\",\n      id: \"fname\",\n      name: \"fname\",\n      placeholder: \"First Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.lname,\n      id: \"lname\",\n      name: \"lname\",\n      placeholder: \"Last Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"tel\",\n      value: this.state.mobile,\n      className: \"form-control\",\n      id: \"mobile\",\n      placeholder: \"Mobile Number\",\n      name: \"mobile\",\n      pattern: \"[0-9]{10}\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-credit-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      value: this.state.payment_method,\n      id: \"payment\",\n      name: \"payment_method\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 35\n      }\n    }, \" None\"), payments)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(DatePicker, {\n      dateFormat: \"dd/MM/yyyy\",\n      selected: this.state.birth_day,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"items-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 29\n      }\n    }, items, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group float-right price-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.amount_payable,\n      readOnly: true,\n      id: \"amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group form-group float-right price-tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-percent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 72\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      onChange: this.handleChange,\n      name: \"discount_given\",\n      value: this.state.discount_given,\n      className: \"form-control\",\n      min: \"0\",\n      max: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      className: \"btn-lg login_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"datalist\", {\n      id: \"sizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 25\n      }\n    }, sizes)))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalayadone/src/components/home.component.js"],"names":["React","Component","Menu","axios","DatePicker","Home","constructor","props","get_pdf","e","preventDefault","data","state","payment_options","map","option","name","payment_method","id","date","birth_day","formatDate","items","item","categories","category","brands","brand","headers","sessionStorage","getItem","post","then","response","window","open","Data","receipt_link","catch","error","console","log","handleChange","target","value","money","find_sum","setState","total_amount","amount_payable","total_discount","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","onChange","add_item","delete_item","key","currentTarget","parentNode","getAttribute","filter","parseInt","update_item","price","quantity","getBrands","Array","fill","discount","discount_given","forEach","selling_price","Math","round","calculate","amount","reduced","payable","document","getElementById","history","push","fname","lname","mobile","sizes","errors","status","message","get","err","slice","render","payments","size","temp","width","deleteable"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,iBAAP;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAO,4CAAP;;AAEA,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AACzBK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA2FnBC,OA3FmB,GA2FRC,CAAD,IAAO;AACbA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,IAAI,GAAC,KAAKC,KAAd;AACA,WAAKA,KAAL,CAAWC,eAAX,CAA2BC,GAA3B,CAA+BC,MAAM,IAAE;AACnC,YAAGA,MAAM,CAACC,IAAP,KAAgBL,IAAI,CAACM,cAAxB,EACA;AACIN,UAAAA,IAAI,CAACM,cAAL,GAAoBF,MAAM,CAACG,EAA3B;AACH;AACJ,OALD;AAMA,UAAIC,IAAI,GAAC,KAAKP,KAAL,CAAWQ,SAApB;AACAT,MAAAA,IAAI,CAACS,SAAL,GAAe,KAAKC,UAAL,CAAgBF,IAAhB,CAAf;AACRR,MAAAA,IAAI,CAACW,KAAL,CAAWR,GAAX,CAAeS,IAAI,IAAE;AACjBZ,QAAAA,IAAI,CAACa,UAAL,CAAgBV,GAAhB,CAAoBW,QAAQ,IAAE;AAC1B,cAAGF,IAAI,CAACA,IAAL,KAAcE,QAAQ,CAACT,IAA1B,EACA;AACIO,YAAAA,IAAI,CAACA,IAAL,GAAUE,QAAQ,CAACP,EAAnB;AACAO,YAAAA,QAAQ,CAACC,MAAT,CAAgBZ,GAAhB,CAAoBa,KAAK,IAAE;AACnB,kBAAGA,KAAK,CAACX,IAAN,KAAeO,IAAI,CAACI,KAAvB,EACA;AACIJ,gBAAAA,IAAI,CAACI,KAAL,GAAWA,KAAK,CAACT,EAAjB;AACH;AAER,aAND;AAOH;AACJ,SAZD;AAaH,OAdD,EAXqB,CA0BrB;;AACQ,YAAMU,OAAO,GAAG;AACZ,yBAAiB,WAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AADhB,OAAhB;AAGA3B,MAAAA,KAAK,CAAC4B,IAAN,CAAW,6CAAX,EAA0DpB,IAA1D,EAAgE;AAC5DiB,QAAAA,OAAO,EAAEA;AADmD,OAAhE,EAGKI,IAHL,CAGUC,QAAQ,IAAI;AACd;AACAC,QAAAA,MAAM,CAACC,IAAP,CAAY,sCAAsCF,QAAQ,CAACtB,IAAT,CAAcyB,IAAd,CAAmBC,YAArE;AACH,OANL,EAOKC,KAPL,CAOWC,KAAK,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OATL;AAUH,KAnIkB;;AAAA,SAwInBG,YAxImB,GAwIHjC,CAAD,IAAO;AAClB,UAAIE,IAAI,GAAGF,CAAC,CAACkC,MAAF,CAASC,KAApB;AACA,UAAIC,KAAK,GAAC,KAAKC,QAAL,EAAV;AACA,WAAKC,QAAL,CAAc;AACV,SAACtC,CAAC,CAACkC,MAAF,CAAS3B,IAAV,GAAiBL;AADP,OAAd,EAEE,MAAI;AAAC,YAAIkC,KAAK,GAAC,KAAKC,QAAL,EAAV;AAA0B,aAAKC,QAAL,CAAc;AAACC,UAAAA,YAAY,EAACH,KAAK,CAAC,CAAD,CAAnB;AAAuBI,UAAAA,cAAc,EAACJ,KAAK,CAAC,CAAD,CAA3C;AAA+CK,UAAAA,cAAc,EAACL,KAAK,CAAC,CAAD;AAAnE,SAAd;AAAuF,OAFxH;AAGH,KA9IkB;;AAAA,SAgJnBxB,UAhJmB,GAgJPF,IAAD,IAAS;AAChB,UAAIgC,CAAC,GAAG,IAAIC,IAAJ,CAASjC,IAAT,CAAR;AAAA,UACIkC,KAAK,GAAG,MAAMF,CAAC,CAACG,QAAF,KAAe,CAArB,CADZ;AAAA,UAEIC,GAAG,GAAG,KAAKJ,CAAC,CAACK,OAAF,EAFf;AAAA,UAGIC,IAAI,GAAGN,CAAC,CAACO,WAAF,EAHX;AAKA,UAAIL,KAAK,CAACM,MAAN,GAAe,CAAnB,EACIN,KAAK,GAAG,MAAMA,KAAd;AACJ,UAAIE,GAAG,CAACI,MAAJ,GAAa,CAAjB,EACIJ,GAAG,GAAG,MAAMA,GAAZ;AAEJ,aAAO,CAACE,IAAD,EAAOJ,KAAP,EAAcE,GAAd,EAAmBK,IAAnB,CAAwB,GAAxB,CAAP;AACH,KA5JkB;;AAAA,SA8JnBC,QA9JmB,GA8JRzC,SAAD,IAAe;AACrB,WAAK2B,QAAL,CAAc;AAAC3B,QAAAA,SAAS,EAACA;AAAX,OAAd;AAAqC,KA/JtB;;AAAA,SAkKnB0C,QAlKmB,GAkKR,MAAM;AACb,UAAIvC,IAAI,GAAG;AACP,cAAM,KAAKX,KAAL,CAAWU,KAAX,CAAiBqC,MAAjB,GAA0B,CADzB;AAEP,gBAAQ,EAFD;AAGP,iBAAQ,EAHD;AAIP,gBAAO,EAJA;AAKP,oBAAW,CALJ;AAMP,yBAAiB,CANV;AAOP,sBAAc;AAPP,OAAX;AASA,UAAIrC,KAAK,GAAG,CAAC,GAAG,KAAKV,KAAL,CAAWU,KAAf,EAAsBC,IAAtB,CAAZ;AACA,WAAKwB,QAAL,CAAc;AACVzB,QAAAA,KAAK,EAAEA;AADG,OAAd;AAGH,KAhLkB;;AAAA,SAmLnByC,WAnLmB,GAmLJtD,CAAD,IAAO;AACjB,UAAIuD,GAAG,GAAEvD,CAAC,CAACwD,aAAF,CAAgBC,UAAhB,CAA2BA,UAA3B,CAAsCC,YAAtC,CAAmD,UAAnD,CAAT,CADiB,CAEjB;;AACA,UAAI7C,KAAK,GAAG,KAAKV,KAAL,CAAWU,KAAX,CAAiB8C,MAAjB,CAAwB7C,IAAI,IAAI;AACxC,eAAO8C,QAAQ,CAAC9C,IAAI,CAACL,EAAN,CAAR,KAAsBmD,QAAQ,CAACL,GAAD,CAArC;AACH,OAFW,CAAZ;AAIA,WAAKjB,QAAL,CAAc;AAACzB,QAAAA,KAAK,EAAEA;AAAR,OAAd,EAA6B,MAAI;AAAE,YAAIuB,KAAK,GAAC,KAAKC,QAAL,EAAV;AAA0B,aAAKC,QAAL,CAAc;AAACC,UAAAA,YAAY,EAACH,KAAK,CAAC,CAAD,CAAnB;AAAuBI,UAAAA,cAAc,EAACJ,KAAK,CAAC,CAAD,CAA3C;AAA+CK,UAAAA,cAAc,EAACL,KAAK,CAAC,CAAD;AAAnE,SAAd;AAAuF,OAApJ;AACH,KA3LkB;;AAAA,SA8LnByB,WA9LmB,GA8LF7D,CAAD,IAAQ;AACrB,UAAIuD,GAAG,GAAMvD,CAAC,CAACwD,aAAF,CAAgBC,UAAhB,CAA2BA,UAA3B,CAAsCA,UAAtC,CAAiDC,YAAjD,CAA8D,UAA9D,CAAb,CADqB,CAExB;;AACG,UAAInD,IAAI,GAAKP,CAAC,CAACwD,aAAF,CAAgBE,YAAhB,CAA6B,MAA7B,CAAb;AACA,UAAIvB,KAAK,GAAQnC,CAAC,CAACwD,aAAF,CAAgBrB,KAAjC;AACA,UAAI2B,KAAK,GAAC,CAAV;AACA,UAAIC,QAAQ,GAAC,CAAb;;AACA,UAAG5B,KAAK,KAAK,EAAb,EACA;AACIJ,QAAAA,OAAO,CAACC,GAAR,CAAYzB,IAAZ;AACAwB,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;;AACA,YAAG5B,IAAI,IAAI,MAAX,EACA;AACA;AACC;AACJ;;AACD,YAAMM,KAAK,GAAI,KAAKV,KAAL,CAAWU,KAAX,CAAiBqC,MAAjB,GAA2B,KAAK/C,KAAL,CAAWU,KAAX,CAAiBR,GAAjB,CAAqBS,IAAI,IAAI;AACnE,YAAI8C,QAAQ,CAAC9C,IAAI,CAACL,EAAN,CAAR,KAAsBmD,QAAQ,CAACL,GAAD,CAAlC,EACA;AACIzC,UAAAA,IAAI,CAACP,IAAD,CAAJ,GAAW4B,KAAX;AACH;;AACD,eAAOrB,IAAP;AACH,OANyC,CAA3B,GAMV,EANL;AAOA,UAAIsB,KAAK,GAAC,KAAKC,QAAL,EAAV;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,YAAY,EAACH,KAAK,CAAC,CAAD,CAAnB;AAAuBI,QAAAA,cAAc,EAACJ,KAAK,CAAC,CAAD,CAA3C;AAA+CK,QAAAA,cAAc,EAACL,KAAK,CAAC,CAAD;AAAnE,OAAd;AAEF,KAxNkB;;AAAA,SA4NnB4B,SA5NmB,GA4NNvD,EAAD,IAAQ;AAChB,YAAMQ,MAAM,GAAG,KAAKd,KAAL,CAAWY,UAAX,CAAsB4C,MAAtB,CAA6B3C,QAAQ,IAAI;AACpD,eAAO4C,QAAQ,CAAC5C,QAAQ,CAACP,EAAV,CAAR,IAAyBmD,QAAQ,CAACnD,EAAD,CAAxC;AACH,OAFc,CAAf;AAGA,aAAQQ,MAAM,CAAC,CAAD,CAAN,CAAUA,MAAlB;AACH,KAjOkB;;AAAA,SAoOnBoB,QApOmB,GAoOR,CAAC0B,QAAD,EAAU5B,KAAV,KAAoB;AAC3B,UAAIC,KAAK,GAAC,IAAI6B,KAAJ,CAAU,CAAV,EAAaC,IAAb,CAAkB,CAAlB,CAAV;AACA,UAAIC,QAAQ,GAACP,QAAQ,CAAC,KAAKzD,KAAL,CAAWiE,cAAX,GAA2B,KAAKjE,KAAL,CAAWiE,cAAtC,GAAsD,CAAvD,CAArB;AACA,WAAKjE,KAAL,CAAWU,KAAX,CAAiBwD,OAAjB,CAA0BvD,IAAD,IAAU;AAC/B,YAAIgD,KAAK,GAAGF,QAAQ,CAAC9C,IAAI,CAACwD,aAAN,CAApB;AACA,YAAIP,QAAQ,GAAGH,QAAQ,CAAC9C,IAAI,CAACiD,QAAN,CAAvB;AACA3B,QAAAA,KAAK,CAAC,CAAD,CAAL,GAAWwB,QAAQ,CAACxB,KAAK,CAAC,CAAD,CAAN,CAAR,GAAqBwB,QAAQ,CAACE,KAAD,CAAR,GAAkBF,QAAQ,CAACG,QAAD,CAA1D;AACH,OAJD;AAKA3B,MAAAA,KAAK,CAAC,CAAD,CAAL,GAASmC,IAAI,CAACC,KAAL,CAAYL,QAAQ,GAAC/B,KAAK,CAAC,CAAD,CAAf,GAAoB,KAA/B,CAAT;AACAA,MAAAA,KAAK,CAAC,CAAD,CAAL,GAASA,KAAK,CAAC,CAAD,CAAL,GAASA,KAAK,CAAC,CAAD,CAAvB;AACA,aAAOA,KAAP;AACH,KA/OkB;;AAAA,SAiPnBqC,SAjPmB,GAiPNC,MAAD,IAAY;AACpB,UAAIP,QAAQ,GAAG,KAAKhE,KAAL,CAAWiE,cAA1B;;AACA,UAAID,QAAQ,IAAI,EAAhB,EAAoB;AAChBA,QAAAA,QAAQ,GAAG,CAAX;AACH;;AACD,UAAIQ,OAAO,GAAIR,QAAQ,GAAGO,MAAX,GAAoB,GAAnC;AACA,UAAIE,OAAO,GAAGF,MAAM,GAAGC,OAAvB;AACAE,MAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkC3C,KAAlC,GAA0CyC,OAA1C;AACH,KAzPkB;;AAElB,QAAIlE,KAAI,GAAC,IAAIiC,IAAJ,EAAT;;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAYtB,KAAI,CAACuC,WAAL,KAAmB,GAAnB,GAAuBvC,KAAI,CAACmC,QAAL,EAAvB,GAAuC,CAAvC,GAAyC,GAAzC,GAA6CnC,KAAI,CAACqC,OAAL,EAAzD;;AACG,QAAI3B,cAAc,CAACC,OAAf,CAAuB,OAAvB,MAAoC,WAApC,IAAmDD,cAAc,CAACC,OAAf,CAAuB,UAAvB,MAAuC,WAA9F,EAA2G;AACvG,WAAKvB,KAAL,CAAWiF,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;;AACD,SAAK7E,KAAL,GAAa;AACT8E,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,KAAK,EAAE,EAFE;AAGTC,MAAAA,MAAM,EAAE,EAHC;AAIT3E,MAAAA,cAAc,EAAE,EAJP;AAKTG,MAAAA,SAAS,EAAE,IAAIgC,IAAJ,EALF;AAMT9B,MAAAA,KAAK,EAAE,CACH;AACI,cAAM,CADV;AAEI,gBAAQ,EAFZ;AAGI,iBAAQ,EAHZ;AAII,gBAAO,EAJX;AAKI,oBAAY,CALhB;AAMI,yBAAiB,CANrB;AAOI,sBAAc;AAPlB,OADG,CANE;AAiBTuD,MAAAA,cAAc,EAAE,CAjBP;AAkBT7B,MAAAA,YAAY,EAAC,CAlBJ;AAmBTE,MAAAA,cAAc,EAAE,CAnBP;AAoBTD,MAAAA,cAAc,EAAE,CApBP;AAqBTpC,MAAAA,eAAe,EAAE,EArBR;AAsBTW,MAAAA,UAAU,EAAE,EAtBH;AAuBTqE,MAAAA,KAAK,EAAE,EAvBE;AAwBTC,MAAAA,MAAM,EAAE,CAAC;AAACC,QAAAA,MAAM,EAAC,GAAR;AAAYxD,QAAAA,KAAK,EAAC,OAAlB;AAA0ByD,QAAAA,OAAO,EAAC;AAAlC,OAAD,EAAoD;AAACD,QAAAA,MAAM,EAAC,GAAR;AAAYxD,QAAAA,KAAK,EAAC,OAAlB;AAA0ByD,QAAAA,OAAO,EAAC;AAAlC,OAApD;AAxBC,KAAb;AA0BA,UAAMpE,QAAO,GAAG;AAAE,uBAAiB,WAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AAA9B,KAAhB;AAEA3B,IAAAA,KAAK,CAAC8F,GAAN,CAAU,6CAAV,EAAyD;AAAErE,MAAAA,OAAO,EAAEA;AAAX,KAAzD,EACKI,IADL,CACUC,QAAQ,IAAI;AACdO,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACA,UAAI6D,MAAM,GAAC,EAAX;;AACA,UAAG7D,QAAQ,CAACtB,IAAT,CAAcoF,MAAd,IAAwB,GAA3B,EACA;AACA,aAAKhD,QAAL,CAAc;AAAElC,UAAAA,eAAe,EAAEoB,QAAQ,CAACtB,IAAT,CAAcyB;AAAjC,SAAd,EADA,CAEA;AACC;AAEJ,KAVL,EAWKE,KAXL,CAWW4D,GAAG,IAAE;AACR,UAAI3D,KAAK,GAAC;AAAC,kBAAS,EAAV;AAAa,iBAAQ2D,GAArB;AAAyB,mBAAU;AAAnC,OAAV;AACA,UAAIJ,MAAM,GAAG,CAAC,GAAG,KAAKlF,KAAL,CAAWkF,MAAf,EAAuBvD,KAAvB,CAAb;AACA,WAAKQ,QAAL,CAAc;AAAC+C,QAAAA,MAAM,EAACA;AAAR,OAAd;AACH,KAfL;AAkBA3F,IAAAA,KAAK,CAAC8F,GAAN,CAAU,qDAAV,EAAiE;AAAErE,MAAAA,OAAO,EAAEA;AAAX,KAAjE,EACKI,IADL,CACUC,QAAQ,IAAI;AACd;AACA,UAAGA,QAAQ,CAACtB,IAAT,CAAcoF,MAAd,IAAwB,GAA3B,EACA;AAEI,YAAIvE,UAAU,GAACS,QAAQ,CAACtB,IAAT,CAAcyB,IAA7B;AACA,aAAKW,QAAL,CAAc;AAAEvB,UAAAA,UAAU,EAAE,CAAC;AAAC,kBAAK,CAAC,CAAP;AAAS,oBAAO,MAAhB;AAAuB,sBAAS;AAAhC,WAAD,EAAqC,GAAGA,UAAU,CAAC2E,KAAX,CAAiB,CAAjB,CAAxC;AAAd,SAAd;AAEH;AAEJ,KAXL,EAYK7D,KAZL,CAYW4D,GAAG,IAAE;AACR,UAAI3D,KAAK,GAAC;AAAC,kBAAS,EAAV;AAAa,iBAAQ2D,GAArB;AAAyB,mBAAU;AAAnC,OAAV;AACD,UAAKJ,MAAM,GAAG,CAAC,GAAG,KAAKlF,KAAL,CAAWkF,MAAf,EAAuBvD,KAAvB,CAAd;AACC,WAAKQ,QAAL,CAAc;AAAC+C,QAAAA,MAAM,EAACA;AAAR,OAAd;AACH,KAhBL;AAmBA3F,IAAAA,KAAK,CAAC8F,GAAN,CAAU,0CAAV,EAAsD;AAAErE,MAAAA,OAAO,EAAEA;AAAX,KAAtD,EACKI,IADL,CACUC,QAAQ,IAAI;AAEd,WAAKc,QAAL,CAAc;AAAE8C,QAAAA,KAAK,EAAE5D,QAAQ,CAACtB,IAAT,CAAcyB;AAAvB,OAAd;AACH,KAJL;;AAKI,QAAIS,MAAK,GAAC,KAAKC,QAAL,EAAV;;AACA,SAAKC,QAAL,CAAc;AAACC,MAAAA,YAAY,EAACH,MAAK,CAAC,CAAD,CAAnB;AAAuBI,MAAAA,cAAc,EAACJ,MAAK,CAAC,CAAD,CAA3C;AAA+CK,MAAAA,cAAc,EAACL,MAAK,CAAC,CAAD;AAAnE,KAAd;;AAEJ,UAAMvB,MAAK,GAAG,KAAKV,KAAL,CAAWU,KAAX,CAAiBqC,MAAjB,GAA2B,KAAK/C,KAAL,CAAWU,KAAX,CAAiBR,GAAjB,CAAqBS,IAAI,IAAI;AAClE,UAAIG,MAAM,GAAG,KAAKd,KAAL,CAAWY,UAAX,CAAsB4C,MAAtB,CAA6B3C,QAAQ,IAAI;AAElD,YAAIF,IAAI,CAACA,IAAL,IAAaE,QAAQ,CAACT,IAA1B,EAAgC;AAC5B,iBAAOS,QAAP;AACH;AACJ,OALY,CAAb;AAMA,KAPqC,CAA3B,GAON,EAPR;AAQH;;AAqKL2E,EAAAA,MAAM,GACN;AAEI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,UAAMC,QAAQ,GAAG,KAAKzF,KAAL,CAAWC,eAAX,CAA2B8C,MAA3B,GAAmC,KAAK/C,KAAL,CAAWC,eAAX,CAA2BC,GAA3B,CAA+BC,MAAM,IAAI;AACzF,0BAAQ;AAAQ,QAAA,GAAG,EAAEA,MAAM,CAACG,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyBH,MAAM,CAACC,IAAhC,CAAR;AACH,KAFmD,CAAnC,GAEV,EAFP,CAXJ,CAcI;;AAEA,UAAMQ,UAAU,GAAG,KAAKZ,KAAL,CAAWY,UAAX,CAAsBmC,MAAtB,GAAgC,KAAK/C,KAAL,CAAWY,UAAX,CAAsBV,GAAtB,CAA0BW,QAAQ,IAAI;AACrF,0BAAQ;AAAQ,QAAA,GAAG,EAAEA,QAAQ,CAACP,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BO,QAAQ,CAACT,IAApC,CAAR;AACH,KAFkD,CAAhC,GAEZ,EAFP;AAIA,UAAM6E,KAAK,GAAG,KAAKjF,KAAL,CAAWiF,KAAX,CAAiBlC,MAAjB,GAA2B,KAAK/C,KAAL,CAAWiF,KAAX,CAAiB/E,GAAjB,CAAqBwF,IAAI,IAAI;AAClE,0BAAQ;AAAQ,QAAA,GAAG,EAAEA,IAAI,CAACpF,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuBoF,IAAI,CAACtF,IAA5B,CAAR;AACH,KAFwC,CAA3B,GAEP,GAFP;AAKA,UAAMM,KAAK,GAAG,KAAKV,KAAL,CAAWU,KAAX,CAAiBqC,MAAjB,GAA2B,KAAK/C,KAAL,CAAWU,KAAX,CAAiBR,GAAjB,CAAqBS,IAAI,IAAI;AAClE,YAAMgF,IAAI,GAAG,KAAK3F,KAAL,CAAWY,UAAX,CAAsB4C,MAAtB,CAA6B3C,QAAQ,IAAI;AAElD,YAAIF,IAAI,CAACA,IAAL,IAAaE,QAAQ,CAACT,IAA1B,EAAgC;AAC5B,iBAAOS,QAAP;AACH;AAGJ,OAPY,CAAb;AAQA,UAAIC,MAAM,GAAC,EAAX;;AACA,UACA;AACIA,QAAAA,MAAM,GAAG6E,IAAI,CAAC,CAAD,CAAJ,CAAQ7E,MAAR,CAAeiC,MAAf,GAAyB4C,IAAI,CAAC,CAAD,CAAJ,CAAQ7E,MAAR,CAAeZ,GAAf,CAAmBa,KAAK,IAAI;AAC1D,8BAAQ;AAAQ,YAAA,GAAG,EAAEA,KAAK,CAACT,EAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAwBS,KAAK,CAACX,IAA9B,CAAR;AACH,SAFiC,CAAzB,GAEF,GAFP;AAGH,OALD,CAMA,OAAMP,CAAN,EACA;AACI+B,QAAAA,OAAO,CAACC,GAAR,CAAYhC,CAAZ;AACH;;AAED,0BACI;AAAK,oBAAUc,IAAI,CAACL,EAApB;AAAwB,QAAA,SAAS,EAAC,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAM,QAAA,KAAK,EAAE;AAACsF,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6B;AAAQ,QAAA,QAAQ,EAAE,KAAKlC,WAAvB;AAAoC,QAAA,IAAI,EAAC,MAAzC;AAAgD,QAAA,KAAK,EAAE/C,IAAI,CAACA,IAA5D;AAAkE,QAAA,SAAS,EAAC,mBAA5E;AAAgG,QAAA,IAAI,EAAC,MAArG;AAA4G,QAAA,WAAW,EAAC,MAAxH;AAA+H,QAAA,QAAQ,MAAvI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyIC,UAAzI,CAA7B,CADA,CADA,eAKA;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAM,QAAA,KAAK,EAAE;AAACgF,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6B;AAAQ,QAAA,QAAQ,EAAE,KAAKlC,WAAvB;AAAoC,QAAA,IAAI,EAAC,MAAzC;AAAgD,QAAA,KAAK,EAAE/C,IAAI,CAACI,KAA5D;AAAmE,QAAA,SAAS,EAAC,mBAA7E;AAAiG,QAAA,IAAI,EAAC,OAAtG;AAA8G,QAAA,WAAW,EAAC,OAA1H;AAAkI,QAAA,QAAQ,MAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA2I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA3I,EAAiKD,MAAjK,CAA7B,CADA,CALA,eAUA;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAM,QAAA,KAAK,EAAE;AAAC8E,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6B;AAAO,QAAA,QAAQ,EAAE,KAAKlC,WAAtB;AAAoC,QAAA,IAAI,EAAC,MAAzC;AAAgD,QAAA,KAAK,EAAE/C,IAAI,CAAC+E,IAA5D;AAAkE,QAAA,SAAS,EAAC,mBAA5E;AAAgG,QAAA,IAAI,EAAC,MAArG;AAA4G,QAAA,WAAW,EAAC,MAAxH;AAA+H,QAAA,IAAI,EAAC,OAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7B,CADA,CAVA,eAaA;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAM,QAAA,KAAK,EAAE;AAACE,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6B;AAAO,QAAA,YAAY,EAAC,KAApB;AAA0B,QAAA,QAAQ,EAAE,KAAKlC,WAAzC;AAAsD,QAAA,IAAI,EAAC,QAA3D;AAAoE,QAAA,KAAK,EAAE/C,IAAI,CAACiD,QAAhF;AAA0F,QAAA,SAAS,EAAC,mBAApG;AAAwH,QAAA,GAAG,EAAC,GAA5H;AAAgI,QAAA,IAAI,EAAC,UAArI;AAAgJ,QAAA,WAAW,EAAC,gBAA5J;AAA6K,QAAA,QAAQ,MAArL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7B,CADA,CAbA,eAgBA;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAM,QAAA,KAAK,EAAE;AAACgC,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6B;AAAO,QAAA,YAAY,EAAC,KAApB;AAA0B,QAAA,QAAQ,EAAE,KAAKlC,WAAzC;AAAsD,QAAA,IAAI,EAAC,QAA3D;AAAoE,QAAA,KAAK,EAAE/C,IAAI,CAACwD,aAAhF;AAA+F,QAAA,SAAS,EAAC,oBAAzG;AAA8H,QAAA,GAAG,EAAC,GAAlI;AAAsI,QAAA,IAAI,EAAC,eAA3I;AAA2J,QAAA,WAAW,EAAC,OAAvK;AAA+K,QAAA,QAAQ,MAAvL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7B,CADA,CAhBA,eAmBA;AAAK,QAAA,SAAS,EAAC,6BAAf;AAA6C,QAAA,KAAK,EAAE;AAACyB,UAAAA,KAAK,EAAC;AAAP,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACiBjF,IAAI,CAACkF,UAAL,gBAAmB;AAAM,QAAA,OAAO,EAAE,KAAK1C,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAkC;AAAG,QAAA,SAAS,EAAC,4BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlC,CAAnB,gBAA+G;AAAM,QAAA,OAAO,EAAE,KAAKD,QAApB;AAA8B,QAAA,EAAE,EAAC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6C;AAAG,QAAA,SAAS,EAAC,2BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7C,CADhI,CAnBA,CADJ,CArBkE,CA6ClE;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACH,KAhEwC,CAA3B,GAgEP,EAhEP;AAkEA,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEI;AAAK,MAAA,KAAK,EAAE;AAAC0C,QAAAA,KAAK,EAAC;AAAP,OAAZ;AAA2B,MAAA,SAAS,EAAC,iBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CAFJ,eAKI;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAKhG,OAArB;AAA8B,MAAA,EAAE,EAAC,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAO,MAAA,QAAQ,EAAE,KAAKkC,YAAtB;AAAoC,MAAA,IAAI,EAAC,MAAzC;AAAgD,MAAA,KAAK,EAAE,KAAK9B,KAAL,CAAW8E,KAAlE;AAAyE,MAAA,SAAS,EAAC,uBAAnF;AAA2G,MAAA,EAAE,EAAC,OAA9G;AAAsH,MAAA,IAAI,EAAC,OAA3H;AAAmI,MAAA,WAAW,EAAC,YAA/I;AAA4J,MAAA,QAAQ,MAApK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ,eAOI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAO,MAAA,QAAQ,EAAE,KAAKhD,YAAtB;AAAoC,MAAA,IAAI,EAAC,MAAzC;AAAgD,MAAA,SAAS,EAAC,cAA1D;AAAyE,MAAA,KAAK,EAAE,KAAK9B,KAAL,CAAW+E,KAA3F;AAAkG,MAAA,EAAE,EAAC,OAArG;AAA6G,MAAA,IAAI,EAAC,OAAlH;AAA0H,MAAA,WAAW,EAAC,WAAtI;AAAkJ,MAAA,QAAQ,MAA1J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAPJ,eAaI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAO,MAAA,QAAQ,EAAE,KAAKjD,YAAtB;AAAoC,MAAA,IAAI,EAAC,KAAzC;AAA+C,MAAA,KAAK,EAAE,KAAK9B,KAAL,CAAWgF,MAAjE;AAAyE,MAAA,SAAS,EAAC,cAAnF;AAAkG,MAAA,EAAE,EAAC,QAArG;AAA8G,MAAA,WAAW,EAAC,eAA1H;AAA0I,MAAA,IAAI,EAAC,QAA/I;AAAwJ,MAAA,OAAO,EAAC,WAAhK;AAA4K,MAAA,QAAQ,MAApL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAbJ,eAqBI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAQ,MAAA,QAAQ,EAAE,KAAKlD,YAAvB;AAAqC,MAAA,KAAK,EAAE,KAAK9B,KAAL,CAAWK,cAAvD;AAAuE,MAAA,EAAE,EAAC,SAA1E;AAAoF,MAAA,IAAI,EAAC,gBAAzF;AAA0G,MAAA,SAAS,EAAC,cAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAGKoF,QAHL,CAJJ,CArBJ,eAgCI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAC,YAAvB;AAAoC,MAAA,QAAQ,EAAE,KAAKzF,KAAL,CAAWQ,SAAzD;AAAoE,MAAA,QAAQ,EAAE,KAAKyC,QAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAhCJ,eAuCI;AAAK,MAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKvC,KADL,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAvCJ,eA6CI;AAAK,MAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAA4C,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWqC,cAA9D;AAA8E,MAAA,QAAQ,MAAtF;AAAuF,MAAA,EAAE,EAAC,QAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CA7CJ,eAoDI;AAAK,MAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC;AAAG,MAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADJ,CADJ,eAII;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,QAAQ,EAAE,KAAKP,YAApC;AAAkD,MAAA,IAAI,EAAC,gBAAvD;AAAwE,MAAA,KAAK,EAAE,KAAK9B,KAAL,CAAWiE,cAA1F;AAA0G,MAAA,SAAS,EAAC,cAApH;AAAmI,MAAA,GAAG,EAAC,GAAvI;AAA2I,MAAA,GAAG,EAAC,KAA/I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CApDJ,eA2DI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAoC,MAAA,SAAS,EAAC,kBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA3DJ,CADJ,eAiEI;AAAU,MAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKgB,KADL,CAjEJ,CALJ,CAFJ,CAJJ,CADJ;AAgGH;;AA1b4B;;AA4b7B,eAAexF,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport '../css/home.css';\nimport Menu from './menu.component'\nimport axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass Home extends Component {\n    constructor(props) {\n        super(props)\n     let date=new Date(); \n     console.log(date.getFullYear()+'-'+date.getMonth()+1+'-'+date.getDate())\n        if (sessionStorage.getItem('token') === 'undefined' || sessionStorage.getItem('username') === 'undefined') {\n            this.props.history.push('/')\n        }\n        this.state = {\n            fname: \"\",\n            lname: \"\",\n            mobile: \"\",\n            payment_method: \"\",\n            birth_day: new Date(),\n            items: [\n                {\n                    \"id\": 1,\n                    \"item\": \"\",\n                    \"brand\":\"\",\n                    \"size\":\"\",\n                    \"quantity\": 0,\n                    \"selling_price\": 0,\n                    \"deleteable\": false\n                }\n            ],\n            discount_given: 0,\n            total_amount:0,\n            total_discount: 0,\n            amount_payable: 0,\n            payment_options: [],\n            categories: [],\n            sizes: [],\n            errors: [{status:200,error:\"error\",message:\"error message\"},{status:200,error:\"error\",message:\"error message\"}]\n        }\n        const headers = { 'Authorization': 'Token ' + sessionStorage.getItem('token') }\n\n        axios.get('https://shield.pythonanywhere.com/payments/', { headers: headers })\n            .then(response => {\n                console.log(response)\n                var errors=[]\n                if(response.data.status != 404)\n                {\n                this.setState({ payment_options: response.data.Data })\n                // console.log(this.state)\n                }\n      \n            })\n            .catch(err=>{\n                let error={\"status\":\"\",\"error\":err,\"message\":\"Unknown error occured while getting payment options\"}\n                let errors = [...this.state.errors, error];\n                this.setState({errors:errors})\n            }\n            )\n\n        axios.get('https://shield.pythonanywhere.com/items/itemsBrand/', { headers: headers })\n            .then(response => {\n                // console.log(response)\n                if(response.data.status != 404)\n                {\n \n                    let categories=response.data.Data\n                    this.setState({ categories: [{'id':-1,'name':\"none\",\"brands\":[]},...categories.slice(0)] })\n \n                }\n\n            })\n            .catch(err=>{\n                let error={\"status\":\"\",\"error\":err,\"message\":\"Unknown error occured while fetching Items and Brands options\"}\n               let  errors = [...this.state.errors, error];\n                this.setState({errors:errors})\n            }\n            )\n\n        axios.get('https://shield.pythonanywhere.com/sizes/', { headers: headers })\n            .then(response => {\n                \n                this.setState({ sizes: response.data.Data })\n            }) \n            let money=this.find_sum()\n            this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]})\n        \n        const items = this.state.items.length ? (this.state.items.map(item => {\n            let brands = this.state.categories.filter(category => {\n               \n                if (item.item == category.name) {\n                    return category\n                }\n            })\n           })):(\"\")\n    }\n\n\n    get_pdf = (e) => {\n        e.preventDefault();\n        var data=this.state\n        this.state.payment_options.map(option=>{\n            if(option.name === data.payment_method)\n            {\n                data.payment_method=option.id\n            }\n        })\n        let date=this.state.birth_day\n        data.birth_day=this.formatDate(date)\ndata.items.map(item=>{\n    data.categories.map(category=>{\n        if(item.item === category.name)\n        {\n            item.item=category.id\n            category.brands.map(brand=>{\n                    if(brand.name === item.brand)\n                    {\n                        item.brand=brand.id\n                    }\n              \n            })\n        }\n    })\n})\n// console.log(data);\n        const headers = {\n            'Authorization': 'Token ' + sessionStorage.getItem('token')\n        }\n        axios.post('https://shield.pythonanywhere.com/receipts/', data, {\n            headers: headers,\n        })\n            .then(response => {\n                // console.log(response)\n                window.open(\"https://shield.pythonanywhere.com\" + response.data.Data.receipt_link);\n            })\n            .catch(error => {\n                console.log(error)\n            });\n    }\n\n\n\n\n    handleChange = (e) => {\n        var data = e.target.value;\n        var money=this.find_sum()\n        this.setState({\n            [e.target.name]: data\n        },()=>{let money=this.find_sum();this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]})})\n    }\n\n    formatDate=(date)=> {\n        var d = new Date(date),\n            month = '' + (d.getMonth() + 1),\n            day = '' + d.getDate(),\n            year = d.getFullYear();\n    \n        if (month.length < 2) \n            month = '0' + month;\n        if (day.length < 2) \n            day = '0' + day;\n    \n        return [year, month, day].join('-');\n    }\n\n    onChange =(birth_day) => {\n        this.setState({birth_day:birth_day})};\n\n\n    add_item = () => {\n        let item = {\n            \"id\": this.state.items.length + 1,\n            \"item\": \"\",\n            \"brand\":\"\",\n            \"size\":\"\",\n            \"quantity\":0,\n            \"selling_price\": 0,\n            \"deleteable\": true,\n        }\n        let items = [...this.state.items, item];\n        this.setState({\n            items: items\n        });\n    };\n\n\n    delete_item = (e) => {\n        let key= e.currentTarget.parentNode.parentNode.getAttribute(\"data-key\");\n        // console.log(key)\n        let items = this.state.items.filter(item => {\n            return parseInt(item.id) !== parseInt(key);\n        })\n    \n        this.setState({items: items},()=>{ let money=this.find_sum();this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]})})\n    }\n\n\n    update_item =   (e) =>  {\n       let key  =   e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\"data-key\");\n    //    console.log(key)\n       let name =   e.currentTarget.getAttribute(\"name\")\n       let value    =   e.currentTarget.value\n       let price=0\n       let quantity=0\n       if(value === \"\")\n       {\n           console.log(name)\n           console.log(value)\n           if(name != \"size\")\n           {\n           return;\n           }\n       }\n       const items =  this.state.items.length?  (this.state.items.map(item => {\n           if (parseInt(item.id) === parseInt(key))\n           {\n               item[name]=value;\n           }\n           return(item)\n       })):([])\n       let money=this.find_sum()\n       this.setState({total_amount:money[0],amount_payable:money[2],total_discount:money[1]})\n\n    }\n\n\n\n    getBrands = (id) => {\n        const brands = this.state.categories.filter(category => {\n            return parseInt(category.id) == parseInt(id)\n        })\n        return (brands[0].brands)\n    }\n\n\n    find_sum = (quantity,value) => {\n        var money=new Array(3).fill(0)\n        var discount=parseInt(this.state.discount_given?(this.state.discount_given):0)\n        this.state.items.forEach((item) => {\n            let price = parseInt(item.selling_price)\n            let quantity = parseInt(item.quantity)\n            money[0] = parseInt(money[0]) + parseInt(price) * parseInt(quantity)\n        });\n        money[1]=Math.round((discount*money[0])/100.0)\n        money[2]=money[0]-money[1]\n        return money;\n    }\n\n    calculate = (amount) => {\n        let discount = this.state.discount_given;\n        if (discount == '') {\n            discount = 0;\n        }\n        let reduced = (discount * amount / 100)\n        let payable = amount - reduced;\n        document.getElementById('amount').value = payable;\n    }\n\n\n\nrender()\n{\n\n    // const errors= this.state.errors.length?(this.state.errors.map(error=>{\n    //     return(<div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\n    //     <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n    //       <span aria-hidden=\"true\">&times;</span>\n    //     </button>\n    //     <strong>Holy guacamole!</strong> You should check in on some of those fields below.\n    //   </div>)\n    // })) :(\"\")\n\n    const payments = this.state.payment_options.length?(this.state.payment_options.map(option => {\n        return (<option key={option.id}>{option.name}</option>)\n    })) : (\"\");\n    // console.log(payments)\n\n    const categories = this.state.categories.length ? (this.state.categories.map(category => {\n        return (<option key={category.id}>{category.name}</option>)\n    })) : (\"\");\n\n    const sizes = this.state.sizes.length ? (this.state.sizes.map(size => {\n        return (<option key={size.id}>{size.name}</option>)\n    })) : (\" \")\n\n\n    const items = this.state.items.length ? (this.state.items.map(item => {\n        const temp = this.state.categories.filter(category => {\n               \n            if (item.item == category.name) {\n                return category\n            }\n    \n            \n        })\n        let brands=\"\"\n        try\n        {\n            brands = temp[0].brands.length ? (temp[0].brands.map(brand => {\n                return (<option key={brand.id}>{brand.name}</option>)\n            })) : (\" \")\n        }\n        catch(e)\n        {\n            console.log(e)\n        }\n\n        return (\n            <div data-key={item.id} className=\"row\">\n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><select onChange={this.update_item} type=\"text\" value={item.item} className=\"form-control item\" name=\"item\" placeholder=\"Item\" required>{categories}</select></div>\n            </div>\n            \n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><select onChange={this.update_item} type=\"text\" value={item.brand} className=\"form-control item\" name=\"brand\" placeholder=\"Brand\" required><option>None</option>{brands}</select></div>\n            </div>\n\n            \n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><input onChange={this.update_item}  type=\"text\" value={item.size} className=\"form-control item\" name=\"size\" placeholder=\"Size\" list=\"sizes\"></input></div>\n            </div>\n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.quantity} className=\"form-control item\" min=\"1\" name=\"quantity\" placeholder=\"Quantity/Pairs\" required /></div>\n            </div>\n            <div className=\"column\">\n            <div  style={{width:\"100%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.selling_price} className=\"form-control item \" min=\"0\" name=\"selling_price\" placeholder=\"Price\" required /></div>\n            </div>\n            <div className=\"input-group-postpend column\" style={{width:\"10%\"}}>\n                            {item.deleteable ? (<span onClick={this.delete_item} ><i className=\"fa fa-times-circle add-btn\"></i></span>) : (<span onClick={this.add_item} id=\"add-item\" ><i className=\"fa fa-plus-circle add-btn\"></i></span>)}\n                        </div> \n            </div>)\n        // <Container>\n            \n        // <div data-key={item.id} className=\"input-group form-group row item-list\">\n        // <Row>\n        //     <div style={{width:\"10%\"}} className=\"input-group-prepend column\">\n        //         <span className=\"input-group-text\"><i className=\"fa fa-shopping-cart\"></i></span>\n        //     </div>\n        //      <Col lg=\"2\"><div className=\"column\" style={{width:\"15%\"}}><select onChange={this.update_item} type=\"text\" value={item.item} className=\"form-control item\" name=\"item\" placeholder=\"Item\" required>{categories}</select></div></Col>\n        //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><select onChange={this.update_item} type=\"text\" value={item.brand} className=\"form-control item\" name=\"brand\" placeholder=\"Brand\" required><option>None</option>{brands}</select></div></Col>\n        //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><input onChange={this.update_item}  type=\"text\" value={item.size} className=\"form-control item\" name=\"size\" placeholder=\"Size\" list=\"sizes\"></input></div></Col>\n        //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.quantity} className=\"form-control item\" min=\"1\" name=\"quantity\" placeholder=\"Quantity/Pairs\" required /></div></Col>\n        //      <Col lg=\"2\"> <div className=\"column\" style={{width:\"15%\"}}><input autoComplete=\"off\" onChange={this.update_item} type=\"number\" value={item.selling_price} className=\"form-control item \" min=\"0\" name=\"selling_price\" placeholder=\"Price\" required /></div></Col>\n        //     <div className=\"input-group-postpend column\" style={{width:\"10%\"}}>\n        //         {item.deleteable ? (<span onClick={this.delete_item} ><i className=\"fa fa-times-circle add-btn\"></i></span>) : (<span onClick={this.add_item} id=\"add-item\" ><i className=\"fa fa-plus-circle add-btn\"></i></span>)}\n        //     </div>\n        //      </Row>\n        // </div>\n       \n        // </Container>)\n    })) : (\"\");\n\n    return (\n        <div className=\"container\">\n                    {/* {errors} */}\n\n           \n            <div className=\"d-flex justify-content-center h-100\">\n            <Menu></Menu>\n                <div style={{width:\"75%\"}} className=\"card float-left\">\n               \n                    <div className=\"card-header\">\n                        <h3>Generate Reciept</h3>\n                    </div>\n                    <div className=\"col-sm-8 col-sm-offset-4 card-body\">\n                        <form onSubmit={this.get_pdf} id=\"login_form\">\n                            <div className=\"input-group form-group\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n                                </div>\n                                <input onChange={this.handleChange} type=\"text\" value={this.state.fname} className=\"form-control input-sm\" id=\"fname\" name=\"fname\" placeholder=\"First Name\" required />\n                            </div>\n                            <div className=\"input-group form-group\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n                                </div>\n                                <input onChange={this.handleChange} type=\"text\" className=\"form-control\" value={this.state.lname} id=\"lname\" name=\"lname\" placeholder=\"Last Name\" required />\n                            </div>\n                            <div className=\"input-group form-group\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fa fa-mobile\"></i></span>\n                                </div>\n                                <input onChange={this.handleChange} type=\"tel\" value={this.state.mobile} className=\"form-control\" id=\"mobile\" placeholder=\"Mobile Number\" name=\"mobile\" pattern=\"[0-9]{10}\" required />\n                            </div>\n\n                           \n                            <div className=\"input-group form-group\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fa fa-credit-card\"></i></span>\n                                </div>\n                                <select onChange={this.handleChange} value={this.state.payment_method} id=\"payment\" name=\"payment_method\" className=\"form-control\">\n                                  <option> None</option>\n                                  {/* {console.log(payments)} */}\n                                    {payments}\n                                </select>\n                            </div>\n\n                            <div className=\"input-group form-group\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fa fa-mobile\"></i></span>\n                                </div>\n                                <DatePicker dateFormat=\"dd/MM/yyyy\" selected={this.state.birth_day} onChange={this.onChange}/>\n                                {/* <input type=\"date\" max={()=>{let date=new Date(); console.log(date.getFullYear()+'-'+date.getMonth()+'-'+date.getDate())}}></input> */}\n                            </div>\n                            <div id=\"items-cart\">\n                                {items}\n                                <div>\n                                </div>\n                            </div>\n\n                            <div className=\"input-group form-group float-right price-tag\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fa fa-rupee\"></i></span>\n                                </div>\n                                <input type=\"text\" className=\"form-control\" value={this.state.amount_payable} readOnly id=\"amount\" />\n                            </div>\n\n                            <div className=\"input-group form-group float-right price-tag\">\n                                <div className=\"input-group-prepend\">\n                                    <span className=\"input-group-text\"><i className=\"fa fa-percent\"></i></span>\n                                </div>\n                                <input type=\"number\" onChange={this.handleChange} name=\"discount_given\" value={this.state.discount_given} className=\"form-control\" min=\"0\" max=\"100\" />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <input type=\"submit\" value=\"Submit\" className=\"btn-lg login_btn\" />\n                            </div>\n\n                        </form>\n                        <datalist id=\"sizes\">\n                            {sizes}\n                        </datalist>\n                    </div>\n                </div>\n            </div>\n            {/* <div aria-live=\"polite\" aria-atomic=\"true\" style={{position:\"relative\",minHeight: \"200px\"}}>\n  <div style={{position: \"absolute\", top:0, right:0}}></div>\n  {errors}\n  </div> */}\n\n\n\n\n\n\n\n        </div>\n    )\n}\n}\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}