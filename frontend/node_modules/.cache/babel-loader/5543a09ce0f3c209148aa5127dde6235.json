{"ast":null,"code":"var _jsxFileName = \"/home/dilip/Desktop/MERN/himalaya/src/components/customer.component.js\";\nimport React, { Component } from 'react';\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component';\nimport axios from 'axios';\n\nclass Customer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.update_rows = response => {\n      console.log(response);\n      var arr = this.state.datatable.rows;\n      response.forEach(element => {\n        arr.push(element);\n      });\n      this.setState(prevState => ({\n        datatable: [...prevState.datatable.rows, arr]\n      })); // let rows=[...this.state.datatable.rows,response];\n      // let columns=[...this.state.datatable.columns]\n      // console.log(rows)\n      // console.log(columns)\n      // this.setState({datatable:{columns:columns,rows:rows}})\n      // this.setState(prevState => ({\n      // datatable: {                  \n      //     ...prevState.datatable,   \n      //     rows: [...this.state.datatable.rows,response]  \n      // }\n      // }))\n\n      console.log(this.state);\n    };\n\n    this.get_next = response => {\n      console.log(response);\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get(response, {\n        headers: headers\n      }).then(result => {\n        console.log(result.data.data.results);\n        this.update_rows(result.data.data.results);\n\n        if (result.data.data.links.next != null) {\n          this.get_next(result.data.data.links.next);\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      const headers = {\n        'Authorization': 'Token ' + sessionStorage.getItem('token')\n      };\n      axios.get('http://127.0.0.1:8000/customers/', {\n        headers: headers\n      }).then(response => {\n        this.update_rows(response.data.data.results); // this.get_next(response.data.data.links.next)\n      });\n    };\n\n    this.state = {\n      datatable: {\n        columns: [{\n          label: 'FirstName',\n          field: 'fname',\n          width: 150\n        }, {\n          label: 'LastName',\n          field: 'lname',\n          width: 270\n        }, {\n          label: 'Mobile',\n          field: 'mobile',\n          width: 200\n        }, {\n          label: 'Date',\n          field: 'date',\n          sort: 'disabled',\n          width: 150\n        }],\n        rows: [{\n          fname: \"dilip\",\n          lname: \"joshi\",\n          mobile: \"8975427620\"\n        }]\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"black\",\n        fontSize: \"15px\",\n        color: \"green\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBDataTableV5, {\n      className: \"table-responsive\",\n      style: {\n        backgroundColor: \"black\",\n        fontSize: \"20px\",\n        color: \"white\"\n      },\n      hover: true,\n      entriesOptions: [10, 20, 25],\n      entries: 10,\n      pagesAmount: 4,\n      data: this.state.datatable,\n      searchTop: true,\n      searchBottom: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}\n\nexport default Customer;","map":{"version":3,"sources":["/home/dilip/Desktop/MERN/himalaya/src/components/customer.component.js"],"names":["React","Component","MDBDataTableV5","Menu","axios","Customer","constructor","props","update_rows","response","console","log","arr","state","datatable","rows","forEach","element","push","setState","prevState","get_next","headers","sessionStorage","getItem","get","then","result","data","results","links","next","componentDidMount","columns","label","field","width","sort","fname","lname","mobile","render","backgroundColor","fontSize","color"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport { MDBDataTableV5 } from 'mdbreact';\nimport Menu from './menu.component'\nimport axios from 'axios';\n\nclass Customer extends Component\n{\nconstructor(props)\n{\n    super(props);\n    this.state={\n        datatable:{\n            columns:[\n                {\n                    label: 'FirstName',\n                    field: 'fname',\n                    width: 150,\n                  },\n                  {\n                    label: 'LastName',\n                    field: 'lname',\n                    width: 270,\n                  },\n                  {\n                    label: 'Mobile',\n                    field: 'mobile',\n                    width: 200,\n                  },\n                  {\n                    label: 'Date',\n                    field: 'date',\n                    sort: 'disabled',\n                    width: 150,\n                  }\n            ],\n            rows: [\n              {\n                fname:\"dilip\",\n                lname:\"joshi\",\n                mobile:\"8975427620\"\n              }\n            ],\n        }\n    }\n\n    }\n\n    update_rows=(response)=>{\n      console.log(response)\n      var arr=this.state.datatable.rows\n      response.forEach(element => {\n        arr.push(element)\n      });        \n       \n      this.setState(prevState => ({\n        datatable: [...prevState.datatable.rows, arr]\n      }))\n      // let rows=[...this.state.datatable.rows,response];\n      // let columns=[...this.state.datatable.columns]\n      // console.log(rows)\n      // console.log(columns)\n      // this.setState({datatable:{columns:columns,rows:rows}})\n      // this.setState(prevState => ({\n        // datatable: {                  \n        //     ...prevState.datatable,   \n        //     rows: [...this.state.datatable.rows,response]  \n        // }\n    // }))\n    console.log(this.state)\n  } \n    get_next=(response)=>{\n\n      console.log(response)\n      const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n\n        axios.get(response,{headers:headers})\n        .then(result=>{\n          console.log(result.data.data.results)\n          this.update_rows(result.data.data.results);\n          if(result.data.data.links.next != null)\n          {\n            this.get_next(result.data.data.links.next)\n          }\n        })\n      \n    }\n    \n    componentDidMount=()=>{\n      const headers = {\n        'Authorization': 'Token '+sessionStorage.getItem('token')\n      }\n      axios.get('http://127.0.0.1:8000/customers/',{\n        headers: headers\n      })\n      .then(response =>{\n        this.update_rows(response.data.data.results);\n        // this.get_next(response.data.data.links.next)\n      })\n      \n    }\n    \nrender()\n{\n\n        \n \n    return(\n      <div>\n           <Menu/>\n        <div style={{backgroundColor:\"black\",fontSize:\"15px\",color:\"green\"}}>\n        <MDBDataTableV5 className=\"table-responsive\" style={{backgroundColor:\"black\",fontSize:\"20px\",color:\"white\"}} hover entriesOptions={[10, 20, 25]} entries={10} pagesAmount={4} data={this.state.datatable} searchTop searchBottom={false} />\n        </div>\n      </div>\n\n    )\n   \n}\n}\nexport default Customer;"]},"metadata":{},"sourceType":"module"}